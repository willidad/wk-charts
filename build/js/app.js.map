{"version":3,"sources":["app/config/d3ChartConstants.coffee","app/container/brush.coffee","app/container/brushed.coffee","app/container/chart.coffee","app/container/layout.coffee","app/container/selection.coffee","app/filters/ttFormat.coffee","app/layouts/area.coffee","app/layouts/bubble.coffee","app/layouts/clusteredBar.coffee","app/layouts/gaugeChart.coffee","app/layouts/geoMap.coffee","app/layouts/horizontalArea.coffee","app/layouts/horizontalClusteredBar.coffee","app/layouts/horizontalLine.coffee","app/layouts/line.coffee","app/layouts/pieChart.coffee","app/layouts/scatter.coffee","app/layouts/simpleBar.coffee","app/layouts/spider.coffee","app/layouts/stackedArea.coffee","app/layouts/stackedBar.coffee","app/models/behaviorBrush.coffee","app/models/behaviorSelect.coffee","app/models/behaviorTooltip.coffee","app/models/behaviors.coffee","app/models/chart.coffee","app/models/container.coffee","app/models/layout.coffee","app/models/legend.coffee","app/models/scale.coffee","app/models/scaleList.coffee","app/scales/color.coffee","app/scales/scaleUtils.coffee","app/scales/shape.coffee","app/scales/size.coffee","app/scales/x.coffee","app/scales/y.coffee","app/services/selectionSharing.coffee","app/services/timer.coffee","app/templates/app.templates.js","app/util/ResizeSensor.js","app/util/d3.geo.zoom.js","app/util/glow.js","app/util/layerData.coffee","app/util/svgIcon.coffee","app/util/utilities.coffee"],"names":[],"mappings":"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AC,KAAL,GAAa;WACX,SAAS,GADE;EAAA,CA5Bb;AA+BA,SAAO,IAAP,CAjC2C;AAAA,CAA7C;CCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC1DA,OAAO,CAAC,MAAR,CAAe,UAAf,CAA0B,CAAC,OAA3B,CAAmC,aAAnC,EAAkD,SAAC,IAAD;AAEhD;SAAA,UAAU;AACR;AAAA,YAAQ,EAAR;AAAA,IACA,aAAa,EADb;AAAA,IAEA,KAAK,MAFL;AAAA,IAGA,aAAa,KAHb;AAAA,IAIA,OAAO,QAJP;AAAA,IAKA,OAAO,SALP;AAAA,IAMA,QAAQ,QANR;AAAA,IAOA,QAAQ,SAPR;AAAA,IASA,KAAK,aATL;AAAA,IAWA,EAAE,CAAC,IAAH,GAAU,SAAC,GAAD;AACR,UAAG,SAAS,CAAC,MAAV,CAAiB,GAAG,CAAH,CAAjB,CAAH;AACE,eAAO,KAAP,CADF;OAAA;AAGE,gBAAQ,GAAR;AACA,eAAO,EAAP,CAJF;OADQ;IAAA,CAXV;AAAA,IAkBA,EAAE,CAAC,SAAH,GAAe,SAAC,IAAD;AACb,UAAG,SAAS,CAAC,MAAV,KAAoB,CAAvB;AACE,eAAO,UAAP,CADF;OAAA;AAGE,qBAAa,IAAb;AACA,eAAO,EAAP,CAJF;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","file":"build/js/app.js","sourcesContent":["angular.module('wk.chart', [])\n\nangular.module('wk.chart').constant 'd3Scales', {\n  linear: d3.scale.linear\n  sqrt: d3.scale.sqrt\n  log: d3.scale.log\n  identity: d3.scale.identity\n  quantize: d3.scale.quantize\n  quantile: d3.scale.quantile\n  threshold: d3.scale.threshold\n  ordinal: d3.scale.ordinal\n  category10: d3.scale.category10\n  category20: d3.scale.category20\n  category20b: d3.scale.category20b\n  category20c: d3.scale.category20c\n  time: d3.time.scale\n}\n\nangular.module('wk.chart').constant 'd3OrdinalScales', [\n  'ordinal'\n  'category10'\n  'category20'\n  'category20b'\n  'category20c'\n]\n\nangular.module('wk.chart').constant 'd3ChartMargins', {\n  top: 10\n  left: 50\n  bottom: 40\n  right: 20\n  topBottomMargin:{axis:25, label:18}\n  leftRightMargin:{axis:40, label:20}\n  minMargin:8\n  default:\n    top: 8\n    left:8\n    bottom:8\n    right:10\n  axis:\n    top:25\n    bottom:25\n    left:40\n    right:40\n  label:\n    top:18\n    bottom:18\n    left:20\n    right:20\n}\n\nangular.module('wk.chart').constant 'd3Shapes', [\n  'circle',\n  'cross',\n  'triangle-down',\n  'triangle-up',\n  'square',\n  'diamond'\n]\n\nangular.module('wk.chart').constant 'axisConfig', {\n  labelFontSize: '1.6em'\n  x:\n    axisPositions: ['top', 'bottom']\n    axisOffset: {bottom:'height'}\n    axisPositionDefault: 'bottom'\n    direction: 'horizontal'\n    measure: 'width'\n    labelPositions:['outside', 'inside']\n    labelPositionDefault: 'outside'\n    labelOffset:\n      top: '1em'\n      bottom: '-0.8em'\n  y:\n    axisPositions: ['left', 'right']\n    axisOffset: {right:'width'}\n    axisPositionDefault: 'left'\n    direction: 'vertical'\n    measure: 'height'\n    labelPositions:['outside', 'inside']\n    labelPositionDefault: 'outside'\n    labelOffset:\n      left: '1.2em'\n      right: '1.2em'\n}\n\nangular.module('wk.chart').constant 'd3Animation', {\n  duration:500\n}\n\nangular.module('wk.chart').constant 'templateDir', 'app/templates/'\n\nangular.module('wk.chart').constant 'd3ScaleMap', [\n  scaleX: 'x'\n  scaleY: 'y'\n  scaleColor: 'color'\n  scaleSize: 'size'\n  scaleShape: 'shape'\n]\n\nangular.module('wk.chart').constant 'formatDefaults', {\n  date: '%d.%m.%Y'\n  number :  ',.2f'\n}\n\n","angular.module('wk.chart').directive 'brush', ($log, selectionSharing, behavior) ->\n  return {\n    restrict: 'A'\n    require: ['^chart', '^layout', '?x', '?y']\n    scope:\n      brushExtent: '='\n      selectedValues: '='\n      selectedDomain: '='\n      change: '&'\n\n    link:(scope, element, attrs, controllers) ->\n      chart = controllers[0].me\n      layout = controllers[1]?.me\n      x = controllers[2]?.me\n      y = controllers[3]?.me\n      xScale = undefined\n      yScale = undefined\n      _selectables = undefined\n      _brushAreaSelection = undefined\n      _isAreaBrush = not x and not y\n      _brushGroup = undefined\n\n      brush = chart.behavior().brush\n      if not x and not y\n        #layout brush, get x and y from layout scales\n        scales = layout.scales().getScales(['x', 'y'])\n        brush.x(scales.x)\n        brush.y(scales.y)\n      else\n        brush.x(x)\n        brush.y(y)\n      brush.active(true)\n\n      brush.events().on 'brush', (idxRange, valueRange, domain) ->\n        if attrs.brushExtent\n          scope.brushExtent = idxRange\n        if attrs.selectedValues\n          scope.selectedValues = valueRange\n        if attrs.selectedDomain\n          scope.selectedDomain = domain\n        scope.$apply()\n\n      layout.lifeCycle().on 'draw.brush', (data) ->\n        brush.data(data)\n\n\n      attrs.$observe 'brush', (val) ->\n        if _.isString(val) and val.length > 0\n          brush.brushGroup(val)\n        else\n          brush.brushGroup(undefined)\n  }","angular.module('wk.chart').directive 'brushed', ($log,selectionSharing, timing) ->\n  sBrushCnt = 0\n  return {\n    restrict: 'A'\n    require: ['^chart', '?^layout', '?x', '?y']\n    link: (scope, element, attrs, controllers) ->\n      chart = controllers[0].me\n      layout = controllers[1]?.me\n      x = controllers[2]?.me\n      y = controllers[3]?.me\n\n      axis = x or y\n      _brushGroup = undefined\n\n      brusher = (extent) ->\n        timing.start(\"brusher#{axis.id()}\")\n        if not axis then return\n        #axis\n        axis.domain(extent).scale().domain(extent)\n        for l in chart.layouts() when l.scales().hasScale(axis) #need to do it this way to ensure the right axis is chosen in case of several layouts in a container\n          l.lifeCycle().brush(axis, true) #no animation\n        timing.stop(\"brusher#{axis.id()}\")\n\n      attrs.$observe 'brushed', (val) ->\n        if _.isString(val) and val.length > 0\n          _brushGroup = val\n          selectionSharing.register _brushGroup, brusher\n        else\n          _brushGroup = undefined\n\n      scope.$on '$destroy', () ->\n        selectionSharing.unregister _brushGroup, brusher\n\n  }","angular.module('wk.chart').directive 'chart', ($log, chart, container) ->\n  chartCnt = 0\n  return {\n    restrict: 'E'\n    require: 'chart'\n    scope:\n      data: '='\n    controller: () ->\n      this.me = chart()\n\n    link: (scope, element, attrs, controller) ->\n      me = controller.me\n\n      deepWatch = false\n      watcherRemoveFn = undefined\n      element.addClass(me.id())\n\n      me.container().element(element[0])\n\n      me.lifeCycle().configure()\n\n      attrs.$observe 'tooltips', (val) ->\n        if val isnt undefined and (val is '' or val is 'true')\n          me.showTooltip(true)\n        else\n          me.showTooltip(false)\n\n      attrs.$observe 'animationDuration', (val) ->\n        if val and _.isNumber(+val) and +val >= 0\n          me.animationDuration(val)\n\n      attrs.$observe 'deepWatch', (val) ->\n        if val isnt undefined and val isnt 'false'\n          deepWatch = true\n        else\n          deepWatch = false\n        if watcherRemoveFn\n          watcherRemoveFn()\n\n        watcherRemoveFn = scope.$watch 'data', (val) ->\n          if val\n            me.lifeCycle().newData(val)\n        , deepWatch\n  }","angular.module('wk.chart').directive 'layout', ($log, layout, container) ->\n  layoutCnt = 0\n  return {\n    restrict: 'AE'\n    require: ['layout','^chart']\n\n    controller: ($element) ->\n      this.me = layout()\n    link: (scope, element, attrs, controllers) ->\n\n      me = controllers[0].me\n      chart = controllers[1].me\n      me.chart(chart)\n\n      element.addClass(me.id())\n\n      #$log.log 'linking layout id:', me.id(), 'chart:', chart.id()\n      chart.addLayout(me)\n      chart.container().addLayout(me)\n      me.container(chart.container())\n\n  }","angular.module('wk.chart').directive 'selection', ($log) ->\n  objId = 0\n\n  return {\n    restrict: 'A'\n    scope:\n      selectedDomain: '='\n    require: 'layout'\n\n    link: (scope, element, attrs, controller) ->\n      layout = controller.me\n\n      layout.lifeCycle().on 'configure.selection', ->\n\n        _selection = layout.behavior().selected\n        _selection.active(true)\n        _selection.on 'selected', (selectedObjects) ->\n          scope.selectedDomain = selectedObjects\n          scope.$apply()\n\n  }","angular.module('wk.chart').filter 'ttFormat', ($log,formatDefaults) ->\n  return (value, format) ->\n    if typeof value is 'object' and value.getUTCDate\n      df = d3.time.format(formatDefaults.date)\n      return df(value)\n    if typeof value is 'number' or not isNaN(+value)\n      df = d3.format(formatDefaults.number)\n      return df(+value)\n    return value","angular.module('wk.chart').directive 'area', ($log) ->\n  lineCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n      #$log.log 'linking s-line'\n      layerKeys = []\n      _layout = []\n      _tooltip = undefined\n      _ttHighlight = undefined\n      _circles = undefined\n      _scaleList = {}\n      _showMarkers = false\n      offset = 0\n      _id = 'line' + lineCntr++\n      area = undefined\n\n      #--- Tooltip handlers --------------------------------------------------------------------------------------------\n\n      ttMoveData = (idx) ->\n        ttLayers = _layout.map((l) -> {name:l.key, value:_scaleList.y.formatValue(l.value[idx].y), color:{'background-color': l.color}})\n        @headerName = _scaleList.x.axisLabel()\n        @headerValue = _scaleList.x.formatValue(_layout[0].value[idx].x)\n        @layers = @layers.concat(ttLayers)\n\n      ttMoveMarker = (idx) ->\n        _circles = this.selectAll(\".marker-#{_id}\").data(_layout, (d) -> d.key)\n        _circles.enter().append('circle').attr('class',\"marker-#{_id}\")\n          .attr('r', if _showMarkers then 8 else 5)\n          .style('fill', (d)-> d.color)\n          .style('fill-opacity', 0.6)\n          .style('stroke', 'black')\n          .style('pointer-events','none')\n        _circles.attr('cy', (d) -> _scaleList.y.scale()(d.value[idx].y))\n        _circles.exit().remove()\n        this.attr('transform', \"translate(#{_scaleList.x.scale()(_layout[0].value[idx].x) + offset})\")\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n\n        layerKeys = y.layerKeys(data)\n        _layout = layerKeys.map((key) => {key:key, color:color.scale()(key), value:data.map((d)-> {x:x.value(d),y:y.layerValue(d, key)})})\n\n        offset = if x.isOrdinal() then x.scale().rangeBand() / 2 else 0\n\n        if _tooltip then _tooltip.data(data)\n\n        area = d3.svg.area()\n        .x((d) ->  x.scale()(d.x))\n        .y0((d) ->  y.scale()(d.y))\n        .y1((d) ->  y.scale()(0))\n\n        layers = this.selectAll(\".layer\")\n          .data(_layout, (d) -> d.key)\n        layers.enter().append('g')\n          .attr('class', \"layer\")\n          .append('path')\n          .attr('class','line')\n          .attr('transfrom', \"translate(#{offset})\")\n          .style('stroke', (d) -> d.color)\n          .style('fill', (d) -> d.color)\n          .style('opacity', 0)\n          .style('pointer-events', 'none')\n        layers.select('.line').transition().duration(options.duration)\n          .attr('d', (d) -> area(d.value))\n          .style('opacity', 0.7).style('pointer-events', 'none')\n        layers.exit().transition().duration(options.duration)\n          .style('opacity', 0)\n          .remove()\n\n      brush = (data, options,x,y,color) ->\n        layers = this.selectAll(\".layer\")\n        layers.select('.line')\n          .attr('d', (d) -> area(d.value))\n\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @layerScale('color')\n        @getKind('y').domainCalc('extent').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = host.behavior().tooltip\n        _tooltip.markerScale(_scaleList.x)\n        _tooltip.on \"enter.#{_id}\", ttMoveData\n        _tooltip.on \"moveData.#{_id}\", ttMoveData\n        _tooltip.on \"moveMarker.#{_id}\", ttMoveMarker\n\n      host.lifeCycle().on 'draw', draw\n      host.lifeCycle().on 'brushDraw', brush\n\n      #--- Property Observers ------------------------------------------------------------------------------------------\n\n      attrs.$observe 'markers', (val) ->\n        if val is '' or val is 'true'\n          _showMarkers = true\n        else\n          _showMarkers = false\n\n  }","angular.module('wk.chart').directive 'bubble', ($log, utils) ->\n  bubbleCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n\n    link: (scope, element, attrs, controller) ->\n      #$log.debug 'bubbleChart linked'\n      layout = controller.me\n      _tooltip = undefined\n      _scaleList = {}\n      _id = 'bubble' + bubbleCntr++\n      _selected = undefined\n\n      #--- Tooltip Event Handlers --------------------------------------------------------------------------------------\n\n      ttEnter = (data) ->\n        for sName, scale of _scaleList\n          @layers.push({name: scale.axisLabel(), value: scale.formattedValue(data), color: if sName is 'color' then {'background-color':scale.map(data)} else undefined})\n\n      #--- Draw --------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color, size) ->\n\n        bubbles = @selectAll('.bubble').data(data, (d) -> color.value(d))\n        bubbles.enter().append('circle').attr('class','bubble selectable')\n          .style('opacity', 0)\n          .call(_tooltip.tooltip)\n          .call(_selected)\n        bubbles\n          .style('fill', (d) -> color.map(d))\n          .transition().duration(options.duration)\n            .attr({\n              r:  (d) -> size.map(d)\n              cx: (d) -> x.map(d)\n              cy: (d) -> y.map(d)\n            })\n            .style('opacity', 1)\n        bubbles.exit()\n          .transition().duration(options.duration)\n            .style('opacity',0).remove()\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      layout.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color', 'size'])\n        @getKind('y').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true)\n        _tooltip = layout.behavior().tooltip\n        _selected = layout.behavior().selected\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      layout.lifeCycle().on 'draw', draw\n\n  }\n","angular.module('wk.chart').directive 'clusteredBar', ($log, utils)->\n\n  clusteredBarCntr = 0\n  return {\n    restrict: 'A'\n    require: '^layout'\n\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n\n      _id = \"clusteredBar#{clusteredBarCntr++}\"\n\n      layers = null\n      layerKeysOld = []\n      xKeysOld = []\n      clusterOld = []\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      getXByKey = (stack, key) ->\n        i = 0\n        while i < stack.length\n          if stack[i].key is key\n            return stack[i]\n          i++\n\n      getLayerByKey = (layout, xKey, layerKey) ->\n        s = getXByKey(layout, xKey)\n        if s\n          i = 0\n          while i < s.layers.length\n            if s.layers[i].layerKey is layerKey\n              return s.layers[i]\n            i++\n\n      getXPredX = (key, layout) ->\n        pred = getXByKey(layout, key)\n        if pred then pred.x + pred.width * 1.05 else 0\n\n      getXSuccX = (key, layout) ->\n        succ = getXByKey(layout, key)\n        if succ then succ.x - succ.width * 0.05 else layout[layout.length-1].x + layout[layout.length-1].width * 1.05\n\n      getLPredX = (xKey, layerKey, layout) ->\n        pred = getLayerByKey(layout, xKey, layerKey)\n        if pred then pred.x + pred.width * 1.05 else 0\n\n      getLSuccX = (xKey, layerKey, layout) ->\n        succ = getLayerByKey(layout, xKey, layerKey)\n        if succ then succ.x + succ.width * 0.05 else getXByKey(layout,xKey).width\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      _tooltip = undefined\n      _scaleList = {}\n\n      ttEnter = (data) ->\n        ttLayers = data.layers.map((l) -> {name:l.layerKey, value:_scaleList.y.formatValue(l.value), color: {'background-color': l.color}})\n        @headerName = _scaleList.x.axisLabel()\n        @headerValue = _scaleList.x.formatValue(data.key)\n        @layers = @layers.concat(ttLayers)\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        #$log.info \"rendering clustered-bar\"\n\n        # map data to the right format for rendering\n        layerKeysNew = y.layerKeys(data)\n        xKeysNew = x.value(data)\n\n        lDeletedSucc = utils.diff(layerKeysOld,layerKeysNew,1)\n        lAddedPred = utils.diff(layerKeysNew, layerKeysOld, -1)\n        xDeletedSucc = utils.diff(xKeysOld, xKeysNew,1)\n        xAddedPred = utils.diff(xKeysNew,xKeysOld,-1)\n\n        clusterX = d3.scale.ordinal().domain(y.layerKeys(data)).rangeBands([0,x.scale().rangeBand()], 0.1)\n\n        cluster = data.map((d) -> l = {\n          key:x.value(d), data:d, x:x.map(d), width: x.scale().rangeBand(x.value(d))\n          layers: layerKeysNew.map((k) -> {layerKey: k, color:color.scale()(k), key:x.value(d), value: d[k], x:clusterX(k), y: y.scale()(d[k]), height:y.scale()(0) - y.scale()(d[k]), width:clusterX.rangeBand(k)})}\n        )\n\n        if not layers\n          layers = @selectAll('.layer')\n\n        layers = layers.data(cluster, (d) -> d.key)\n\n        if clusterOld.length is 0\n          layers.enter().append('g')\n            .attr('class', 'layer').call(_tooltip.tooltip)\n            .attr('transform',(d) -> \"translate(#{d.x},0) scale(1,1)\")\n            .style({opacity: 0})\n\n        else\n          layers.enter().append('g')\n            .attr('class', 'layer').call(_tooltip.tooltip)\n            .attr('transform', (d)-> \"translate(#{getXPredX(xAddedPred[d.key], clusterOld)}, 0) scale(1,1)\")\n\n        layers\n          .transition().duration(options.duration)\n            .attr('transform',(d) -> \"translate(#{d.x},0) scale(1,1)\")\n            .style('opacity', 1)\n\n        layers.exit()\n          .transition().duration(options.duration)\n            .attr('transform',(d) ->\n              null\n              \"translate(#{getXSuccX(xDeletedSucc[d.key], cluster)},#{y.scale()(0)}) scale(0,0)\")\n            .remove()\n\n        enterScale = 0\n\n        bars = layers.selectAll('.bar')\n          .data(\n            (d) -> d.layers\n          , (d) -> d.layerKey + '|' + d.key\n          )\n\n        if clusterOld.length is 0\n          bars.enter().append('rect')\n          .attr('class', 'bar selectable')\n        else\n          bars.enter().append('rect')\n            .attr('class', 'bar selectable')\n            .attr('x', (d) -> getLPredX(d.key, lAddedPred[d.layerKey], clusterOld))\n            .attr('width',  0)\n            .attr('height', 0)\n            .attr('y', y.scale()(0))\n\n\n        bars.style('fill', (d) -> color.scale()(d.layerKey)).transition().duration(options.duration)\n          .attr('width', (d) -> d.width)\n          .attr('x', (d) -> d.x)\n          .attr('y', (d) -> Math.min(y.scale()(0), d.y))\n          .attr('height', (d) -> Math.abs(d.height))\n\n        bars.exit()\n          .transition().duration(options.duration)\n          .attr('width',0)\n          .attr('height', 0)\n          .attr('x', (d) ->\n            null\n            getLSuccX(d.key, lDeletedSucc[d.layerKey], cluster))\n          .attr('y', y.scale()(0))\n          .remove()\n\n        layerKeysOld = layerKeysNew\n        clusterOld = cluster\n        xKeysOld = xKeysNew\n\n      #-------------------------------------------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @getKind('y').domainCalc('max').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true)\n        @layerScale('color')\n        _tooltip = host.behavior().tooltip\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      host.lifeCycle().on 'draw', draw\n      host.lifeCycle().on 'brushDraw', draw\n  }","angular.module('wk.chart').directive 'gauge', ($log, utils) ->\n  return {\n    restrict: 'A'\n    require: '^layout'\n    controller: ($scope, $attrs) ->\n      me = {chartType: 'GaugeChart', id:utils.getId()}\n      $attrs.$set('chart-id', me.id)\n      return me\n    \n    link: (scope, element, attrs, controller) ->\n      layout = controller.me\n\n      initalShow = true\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        $log.info 'drawing Gauge Chart'\n\n        dat = [data]\n\n        yDomain = y.scale().domain()\n        colorDomain = angular.copy(color.scale().domain())\n        colorDomain.unshift(yDomain[0])\n        colorDomain.push(yDomain[1])\n        ranges = []\n        for i in [1..colorDomain.length-1]\n          ranges.push {from:+colorDomain[i-1],to:+colorDomain[i]}\n\n        #draw color scale\n\n        bar = @selectAll('.bar')\n        bar = bar.data(ranges, (d, i) -> i)\n        if initalShow\n          bar.enter().append('rect').attr('class', 'bar')\n            .attr('x', 0).attr('width', 50)\n            .style('opacity', 0)\n        else\n          bar.enter().append('rect').attr('class', 'bar')\n            .attr('x', 0).attr('width', 50)\n\n        bar.transition().duration(options.duration)\n          .attr('height',(d) -> y.scale()(0) - y.scale()(d.to - d.from))\n          .attr('y',(d) -> y.scale()(d.to))\n          .style('fill', (d) -> color.scale()(d.from))\n          .style('opacity', 1)\n\n        bar.exit().remove()\n\n        # draw value\n\n        addMarker = (s) ->\n          s.append('rect').attr('width', 55).attr('height', 4).style('fill', 'black')\n          s.append('circle').attr('r', 10).attr('cx', 65).attr('cy',2).style('stroke', 'black')\n\n        marker = @selectAll('.marker')\n        marker = marker.data(dat, (d) -> 'marker')\n        marker.enter().append('g').attr('class','marker').call(addMarker)\n\n        if initalShow\n          marker.attr('transform', (d) -> \"translate(0,#{y.scale()(d.value)})\").style('opacity', 0)\n\n        marker\n          .transition().duration(options.duration)\n            .attr('transform', (d) -> \"translate(0,#{y.scale()(d.value)})\")\n            .style('fill',(d) -> color.scale()(d.value)).style('opacity', 1)\n\n        initalShow = false\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n\n      layout.lifeCycle().on 'configure', ->\n        this.requiredScales(['y', 'color'])\n        @getKind('color').resetOnNewData(true)\n\n      layout.lifeCycle().on 'draw', draw\n\n  }","angular.module('wk.chart').directive 'geoMap', ($log, utils) ->\n  mapCntr = 0\n\n  parseList = (val) ->\n    if val\n      l = val.trim().replace(/^\\[|\\]$/g, '').split(',').map((d) -> d.replace(/^[\\\"|']|[\\\"|']$/g, ''))\n      l = l.map((d) -> if isNaN(d) then d else +d)\n      return if l.length is 1 then return l[0] else l\n\n  return {\n    restrict: 'A'\n    require: 'layout'\n    scope: {\n      geojson: '='\n      projection: '='\n    }\n\n    link: (scope, element, attrs, controller) ->\n      layout = controller.me\n\n      _tooltip = undefined\n      _selected = undefined\n      _scaleList = {}\n      _id = 'geoMap' + mapCntr++\n      _dataMapping = d3.map()\n\n      _scale = 1\n      _rotate = [0,0]\n      _idProp = ''\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      ttEnter = (data) ->\n\n        val = _dataMapping.get(data.properties[_idProp[0]])\n        @layers.push({name:val.RS, value:val.DES})\n\n      #-----------------------------------------------------------------------------------------------------------------\n      pathSel = []\n\n      _projection = d3.geo.orthographic()\n      _width = 0\n      _height = 0\n      _path = undefined\n      _zoom = d3.geo.zoom()\n        .projection(_projection)\n        #.scaleExtent([projection.scale() * .7, projection.scale() * 10])\n        .on \"zoom.redraw\", () ->\n          d3.event.sourceEvent.preventDefault();\n          pathSel.attr(\"d\", _path);\n\n      _geoJson = undefined\n\n      draw = (data, options, x, y, color) ->\n        _width = options.width\n        _height = options.height\n        if data and data[0].hasOwnProperty(_idProp[1])\n          for e in data\n            _dataMapping.set(e[_idProp[1]], e)\n\n        if _geoJson\n\n          _projection.translate([_width/2, _height/2])\n          pathSel = this.selectAll(\"path\").data(_geoJson.features, (d) -> d.properties[_idProp[0]])\n          pathSel\n            .enter().append(\"svg:path\")\n              .style('fill','lightgrey').style('stroke', 'darkgrey')\n              .call(_tooltip.tooltip)\n              .call(_selected)\n              .call(_zoom)\n\n          pathSel\n            .attr(\"d\", _path)\n            .style('fill', (d) ->\n              val = _dataMapping.get(d.properties[_idProp[0]])\n              color.map(val)\n          )\n\n          pathSel.exit().remove()\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      layout.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['color'])\n        _scaleList.color.resetOnNewData(true)\n\n      layout.lifeCycle().on 'draw', draw\n      _tooltip = layout.behavior().tooltip\n      _selected = layout.behavior().selected\n      _tooltip.on \"enter.#{_id}\", ttEnter\n\n      # GeoMap specific properties -------------------------------------------------------------------------------------\n\n      scope.$watch 'projection', (val) ->\n        if val isnt undefined\n          $log.log 'setting Projection params', val\n          if d3.geo.hasOwnProperty(val.projection)\n            _projection = d3.geo[val.projection]()\n            _projection.center(val.center).scale(val.scale).rotate(val.rotate).clipAngle(val.clipAngle)\n            _idProp = val.idMap\n            if _projection.parallels\n              _projection.parallels(val.parallels)\n            _scale = _projection.scale()\n            _rotate = _projection.rotate()\n            _path = d3.geo.path().projection(_projection)\n            _zoom.projection(_projection)\n\n            layout.lifeCycle().update()\n\n      , true #deep watch\n\n      scope.$watch 'geojson', (val) ->\n        if val isnt undefined and val isnt ''\n          _geoJson = val\n          layout.lifeCycle().update()\n\n\n  }","angular.module('wk.chart').directive 'horizontalArea', ($log) ->\n  lineCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n      #$log.log 'linking s-line'\n      layerKeys = []\n      _layout = []\n      _tooltip = undefined\n      _ttHighlight = undefined\n      _circles = undefined\n      _scaleList = {}\n      _showMarkers = false\n      offset = 0\n      _id = 'line' + lineCntr++\n\n      #--- Tooltip handlers --------------------------------------------------------------------------------------------\n\n      ttMoveData = (idx) ->\n        ttLayers = _layout.map((l) -> {name:l.key, value:_scaleList.x.formatValue(l.value[idx].x), color:{'background-color': l.color}})\n        @headerName = _scaleList.y.axisLabel()\n        @headerValue = _scaleList.y.formatValue(_layout[0].value[idx].y)\n        @layers = @layers.concat(ttLayers)\n\n      ttMoveMarker = (idx) ->\n        _circles = this.selectAll('circle').data(_layout, (d) -> d.key)\n        _circles.enter().append('circle')\n        .attr('r', if _showMarkers then 8 else 5)\n        .style('fill', (d)-> d.color)\n        .style('fill-opacity', 0.6)\n        .style('stroke', 'black')\n        .style('pointer-events','none')\n        _circles.attr('cx', (d) -> _scaleList.x.scale()(d.value[idx].x))\n        _circles.exit().remove()\n        this.attr('transform', \"translate(0, #{_scaleList.y.scale()(_layout[0].value[idx].y) + offset})\")\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        layerKeys = x.layerKeys(data)\n        _layout = layerKeys.map((key) => {key:key, color:color.scale()(key), value:data.map((d)-> {y:y.value(d),x:x.layerValue(d, key)})})\n\n        offset = if y.isOrdinal() then y.scale().rangeBand() / 2 else 0\n\n        if _tooltip then _tooltip.data(data)\n\n        area = d3.svg.area()    # tricky. Draw this like a vertical chart and then rotate and position it.\n        .x((d) ->   options.width - y.scale()(d.y))\n        .y0((d) ->  x.scale()(d.x))\n        .y1((d) ->  x.scale()(0))\n\n        layers = this.selectAll(\".layer\")\n          .data(_layout, (d) -> d.key)\n        layers.enter().append('g')\n          .attr('class', \"layer\")\n          .append('path')\n          .attr('class','line')\n          .style('stroke', (d) -> d.color)\n          .style('fill', (d) -> d.color)\n          .style('opacity', 0)\n          .style('pointer-events', 'none')\n        layers.select('.line')\n          .attr('transform', \"translate(0,#{options.width + offset})rotate(-90)\") #rotate and position chart\n          .transition().duration(options.duration)\n          .attr('d', (d) -> area(d.value))\n          .style('opacity', 0.7).style('pointer-events', 'none')\n        layers.exit().transition().duration(options.duration)\n          .style('opacity', 0)\n          .remove()\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @layerScale('color')\n        @getKind('y').domainCalc('extent').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = host.behavior().tooltip\n        _tooltip.markerScale(_scaleList.y)\n        _tooltip.on \"enter.#{_id}\", ttMoveData\n        _tooltip.on \"moveData.#{_id}\", ttMoveData\n        _tooltip.on \"moveMarker.#{_id}\", ttMoveMarker\n\n      host.lifeCycle().on 'draw', draw\n\n      #--- Property Observers ------------------------------------------------------------------------------------------\n\n      attrs.$observe 'markers', (val) ->\n        if val is '' or val is 'true'\n          _showMarkers = true\n        else\n          _showMarkers = false\n\n\n\n  }","angular.module('wk.chart').directive 'horizontalClusteredBar', ($log, utils)->\n\n  hClusteredBarCntr = 0\n\n  return {\n    restrict: 'A'\n    require: '^layout'\n\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n\n      _id = \"hClusteredBar#{hClusteredBarCntr++}\"\n\n      layers = null\n      layerKeysOld = []\n      yKeysOld = []\n      clusterOld = []\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      getXByKey = (stack, key) ->\n        i = 0\n        while i < stack.length\n          if stack[i].key is key\n            return stack[i]\n          i++\n\n      getLayerByKey = (layout, yKey, layerKey) ->\n        s = getyByKey(layout, yKey)\n        if s\n          i = 0\n          while i < s.layers.length\n            if s.layers[i].layerKey is layerKey\n              return s.layers[i]\n            i++\n\n      getYPredY = (key, layout) ->\n        pred = getYByKey(layout, key)\n        if pred then pred.x + pred.width * 1.05 else 0\n\n      getYSuccY = (key, layout) ->\n        succ = getYByKey(layout, key)\n        if succ then succ.y - succ.width * 0.05 else layout[layout.length-1].y + layout[layout.length-1].width * 1.05\n\n      getLPredy = (yKey, layerKey, layout) ->\n        pred = getLayerByKey(layout, xKey, layerKey)\n        if pred then pred.x + pred.width * 1.05 else 0\n\n      getLSuccy = (yKey, layerKey, layout) ->\n        succ = getLayerByKey(layout, yKey, layerKey)\n        if succ then succ.y + succ.width * 0.05 else layout[layout.length-1].y + layout[layout.length-1].width * 1.05\n\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      _tooltip = undefined\n      _scaleList = {}\n\n      ttEnter = (data) ->\n        ttLayers = data.layers.map((l) -> {name:l.layerKey, value:_scaleList.y.formatValue(l.value), color: {'background-color': l.color}})\n        @headerName = _scaleList.y.axisLabel()\n        @headerValue = _scaleList.y.formatValue(data.key)\n        @layers = @layers.concat(ttLayers)\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        #$log.info \"rendering clustered-bar\"\n\n        # map data to the right format for rendering\n        layerKeysNew = x.layerKeys(data)\n        yKeysNew = y.value(data)\n\n        #yDeletedSucc = utils.diff(layerKeysOld,layerKeysNew,1)\n        #yAddedPred = utils.diff(layerKeysNew, layerKeysOld, -1)\n        #lDeletedSucc = utils.diff(yKeysOld, xKeysNew,1)\n        #lAddedPred = utils.diff(yKeysNew,xKeysOld,-1)\n\n        clusterY = d3.scale.ordinal().domain(x.layerKeys(data)).rangeBands([0,y.scale().rangeBand()], 0.1)\n\n        cluster = data.map((d) -> l = {\n          key:y.value(d), data:d, y:y.map(d), width: y.scale().rangeBand(y.value(d))\n          layers: layerKeysNew.map((k) -> {layerKey: k, color:color.scale()(k), key:y.value(d), value: d[k], y:clusterY(k), x: x.scale()(d[k]), width:x.scale()(0) - x.scale()(d[k]), height:clusterY.rangeBand(k)})}\n        )\n\n        if not layers\n          layers = @selectAll('.layer')\n\n        layers = layers.data(cluster, (d) -> d.key)\n\n        if clusterOld.length is 0\n          layers.enter().append('g')\n            .attr('class', 'layer').call(_tooltip.tooltip)\n            .attr('transform',(d) -> \"translate(0,#{d.y}) scale(1,1)\")\n            .style({opacity: 0})\n        ###\n        else\n          layers.enter().append('g')\n            .attr('class', 'layer').call(_tooltip.tooltip)\n            .attr('transform', (d)-> \"translate(0, #{getyPredy(yAddedPred[d.key], clusterOld)}) scale(1,1)\")\n        ###\n        layers\n          .transition().duration(options.duration)\n            .attr('transform',(d) -> \"translate(0, #{d.y}) scale(1,1)\")\n            .style('opacity', 1)\n        ###\n        layers.exit()\n          .transition().duration(options.duration)\n            .attr('transform',(d) -> \"translate(#{x.scale()(0)},#{getySuccy(yDeletedSucc[d.key], cluster)}) scale(0,0)\")\n            .remove()\n        ###\n        enterScale = 0\n\n        bars = layers.selectAll('.bar')\n          .data(\n            (d) -> d.layers\n          , (d) -> d.layerKey + '|' + d.key\n          )\n\n        if clusterOld.length is 0\n          bars.enter().append('rect')\n          .attr('class', 'bar')\n        ###\n        else\n          bars.enter().append('rect')\n            .attr('class', 'bar')\n            .attr('x', (d) -> getLPredX(d.key, lAddedPred[d.layerKey], clusterOld))\n            .attr('width',  0)\n            .attr('height', 0)\n            .attr('y', y.scale()(0))\n        ###\n\n        bars.style('fill', (d) -> color.scale()(d.layerKey)).transition().duration(options.duration)\n          .attr('width', (d) -> Math.abs(d.width))\n          .attr('x', (d) -> Math.min(x.scale()(0), d.x))\n          .attr('y', (d) -> d.y)\n          .attr('height', (d) -> d.height)\n        ###\n        bars.exit()\n          .transition().duration(options.duration)\n          .attr('width',0)\n          .attr('height', 0)\n          .attr('x', (d) -> getLSuccX(d.key, lDeletedSucc[d.layerKey], cluster))\n          .attr('y', y.scale()(0))\n          .remove()\n\n        layerKeysOld = layerKeysNew\n        clusterOld = cluster\n        xKeysOld = xKeysNew\n        ###\n      #-------------------------------------------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @getKind('y').domainCalc('max').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true)\n        @layerScale('color')\n        _tooltip = host.behavior().tooltip\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      host.lifeCycle().on 'draw', draw\n\n  }","angular.module('wk.chart').directive 'horizontalLine', ($log) ->\n  lineCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n      #$log.log 'linking s-line'\n      layerKeys = []\n      _layout = []\n      _tooltip = undefined\n      _ttHighlight = undefined\n      _circles = undefined\n      _showMarkers = false\n      _scaleList = {}\n      offset = 0\n      _id = 'line' + lineCntr++\n\n      prepData = (x, y, color) ->\n        #layerKeys = y.layerKeys(@)\n        #_layout = layerKeys.map((key) => {key:key, color:color.scale()(key), value:@map((d)-> {x:x.value(d),y:y.layerValue(d, key)})})\n\n      ttEnter = (idx, axisX, cntnr) ->\n        cntnrSel = d3.select(cntnr)\n        cntnrWidth = cntnrSel.attr('width')\n        parent = d3.select(cntnr.parentElement)\n        _ttHighlight = parent.append('g')\n        _ttHighlight.append('line').attr({x1:0, x2:cntnrWidth}).style({'pointer-events':'none', stroke:'lightgrey', 'stroke-width':1})\n        _circles = _ttHighlight.selectAll('circle').data(_layout,(d) -> d.key)\n        _circles.enter().append('circle').attr('r', 5).attr('fill', (d)-> d.color).attr('fill-opacity', 0.6).attr('stroke', 'black').style('pointer-events','none')\n\n        _ttHighlight.attr('transform', \"translate(0,#{_scaleList.y.scale()(_layout[0].value[idx].y)+offset})\")\n\n      ttMoveData = (idx) ->\n        ttLayers = _layout.map((l) -> {name:l.key, value:_scaleList.x.formatValue(l.value[idx].x), color:{'background-color': l.color}})\n        @headerName = _scaleList.y.axisLabel()\n        @headerValue = _scaleList.y.formatValue(_layout[0].value[idx].y)\n        @layers = @layers.concat(ttLayers)\n\n      ttMoveMarker = (idx) ->\n        _circles = this.selectAll('circle').data(_layout, (d) -> d.key)\n        _circles.enter().append('circle')\n        .attr('r', if _showMarkers then 8 else 5)\n        .style('fill', (d)-> d.color)\n        .style('fill-opacity', 0.6)\n        .style('stroke', 'black')\n        .style('pointer-events','none')\n        _circles.attr('cx', (d) -> _scaleList.x.scale()(d.value[idx].x))\n        _circles.exit().remove()\n        this.attr('transform', \"translate(0,#{_scaleList.y.scale()(_layout[0].value[idx].y) + offset})\")\n\n\n      setTooltip = (tooltip, overlay) ->\n        _tooltip = tooltip\n        tooltip(overlay)\n        tooltip.isHorizontal(true)\n        tooltip.refreshOnMove(true)\n        tooltip.on \"move.#{_id}\", ttMove\n        tooltip.on \"enter.#{_id}\", ttEnter\n        tooltip.on \"leave.#{_id}\", ttLeave\n\n\n      draw = (data, options, x, y, color) ->\n        layerKeys = x.layerKeys(data)\n        _layout = layerKeys.map((key) => {key:key, color:color.scale()(key), value:data.map((d)-> {y:y.value(d),x:x.layerValue(d, key)})})\n\n        offset = if y.isOrdinal() then y.scale().rangeBand() / 2 else 0\n\n        if _tooltip then _tooltip.data(data)\n\n        line = d3.svg.line()\n          .x((d) -> x.scale()(d.x))\n          .y((d) -> y.scale()(d.y))\n\n        layers = this.selectAll(\".layer\")\n          .data(_layout, (d) -> d.key)\n        layers.enter().append('g')\n          .attr('class', \"layer\")\n          .append('path')\n          .attr('class','line')\n          .style('stroke', (d) -> d.color)\n          .style('opacity', 0)\n          .style('pointer-events', 'none')\n        layers.select('.line')\n          .attr('transform', \"translate(0,#{offset})\")\n          .transition().duration(options.duration)\n            .attr('d', (d) -> line(d.value))\n            .style('opacity', 1).style('pointer-events', 'none')\n        layers.exit().transition().duration(options.duration)\n          .style('opacity', 0)\n          .remove()\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @layerScale('color')\n        @getKind('y').domainCalc('extent').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = host.behavior().tooltip\n        _tooltip.markerScale(_scaleList.y)\n        _tooltip.on \"enter.#{_id}\", ttMoveData\n        _tooltip.on \"moveData.#{_id}\", ttMoveData\n        _tooltip.on \"moveMarker.#{_id}\", ttMoveMarker\n\n      host.lifeCycle().on 'draw', draw\n\n      #--- Property Observers ------------------------------------------------------------------------------------------\n\n      attrs.$observe 'markers', (val) ->\n        if val is '' or val is 'true'\n          _showMarkers = true\n        else\n          _showMarkers = false\n\n\n  }","angular.module('wk.chart').directive 'line', ($log, behavior, utils, timing) ->\n  lineCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n      #$log.log 'linking s-line'\n      _layerKeys = []\n      _layout = []\n      _initialOpacity = 1\n\n      _tooltip = undefined\n      _ttHighlight = undefined\n      _circles = undefined\n      _showMarkers = false\n      _scaleList = {}\n      offset = 0\n      _id = 'line' + lineCntr++\n      line = undefined\n      markers = undefined\n\n\n      #--- Tooltip Event Handlers --------------------------------------------------------------------------------------\n\n      ttMoveData = (idx) ->\n        ttLayers = _layout.map((l) -> {name:l.key, value:_scaleList.y.formatValue(l.value[idx].y), color:{'background-color': l.color}})\n        @headerName = _scaleList.x.axisLabel()\n        @headerValue = _scaleList.x.formatValue(_layout[0].value[idx].x)\n        @layers = @layers.concat(ttLayers)\n\n      ttMoveMarker = (idx) ->\n        _circles = this.selectAll(\".marker-#{_id}\").data(_layout, (d) -> d.key)\n        _circles.enter().append('circle').attr('class',\"marker-#{_id}\")\n          .attr('r', if _showMarkers then 8 else 5)\n          .style('fill', (d)-> d.color)\n          .style('fill-opacity', 0.6)\n          .style('stroke', 'black')\n          .style('pointer-events','none')\n        _circles.attr('cy', (d) -> _scaleList.y.scale()(d.value[idx].y))\n        _circles.exit().remove()\n        this.attr('transform', \"translate(#{_scaleList.x.scale()(_layout[0].value[idx].x) + offset})\")\n\n      #--- Draw --------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n\n        if not options.skip\n          _layerKeys = y.layerKeys(data)\n          _layout = _layerKeys.map((key) => {key:key, color:color.scale()(key), value:data.map((d)-> {x:x.value(d),y:y.layerValue(d, key), color:color.scale()(key), key:key, __data$$:d})})\n\n        offset = if x.isOrdinal() then x.scale().rangeBand() / 2 else 0\n\n        if _tooltip then _tooltip.data(data)\n\n        markers = (layer, duration) ->\n          if _showMarkers\n            m = layer.selectAll('.marker').data(\n                (l) -> l.value\n              , (d) -> d.x\n            )\n            m.enter().append('circle').attr('class','marker selectable')\n              .attr('r', 5)\n              .style('fill', (d) -> d.color)\n              .style('pointer-events','none')\n              .style('opacity', _initialOpacity)\n            m.transition().duration(duration)\n              .attr('cy', (d) -> y.scale()(d.y))\n              .attr('cx', (d) -> x.scale()(d.x) + offset)\n              .style('opacity', 1)\n            m.exit().transition().duration(duration).style('opacity', 0).remove()\n\n        line = d3.svg.line()\n          .x((d) -> x.scale()(d.x))\n          .y((d) -> y.scale()(d.y))\n\n        layers = this.selectAll(\".layer\")\n          .data(_layout, (d) -> d.key)\n        enter = layers.enter().append('g').attr('class', \"layer\")\n        enter.append('path')\n          .attr('class','line')\n          .style('stroke', (d) -> d.color)\n          .style('opacity', _initialOpacity)\n          .style('pointer-events', 'none')\n        layers.select('.line').attr('transform', \"translate(#{offset})\").transition().duration(options.duration)\n          .attr('d', (d) -> line(d.value))\n          .style('opacity', 1).style('pointer-events', 'none')\n\n        layers.exit().transition().duration(options.duration)\n          .style('opacity', 0)\n          .remove()\n\n        layers.call(markers, options.duration)\n\n        _initialOpacity = 0\n\n      brush = (data, options, x, y, color) ->\n        layers = this.selectAll(\".layer\")\n        layers.select('.line')\n          .attr('d', (d) -> line(d.value))\n        layers.call(markers, 0)\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @layerScale('color')\n        @getKind('y').domainCalc('extent').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = host.behavior().tooltip\n        _tooltip.markerScale(_scaleList.x)\n        _tooltip.on \"enter.#{_id}\", ttMoveData\n        _tooltip.on \"moveData.#{_id}\", ttMoveData\n        _tooltip.on \"moveMarker.#{_id}\", ttMoveMarker\n\n      host.lifeCycle().on 'draw', draw\n      host.lifeCycle().on 'brushDraw', brush\n\n      #--- Property Observers ------------------------------------------------------------------------------------------\n\n      attrs.$observe 'markers', (val) ->\n        if val is '' or val is 'true'\n          _showMarkers = true\n        else\n          _showMarkers = false\n  }","angular.module('wk.chart').directive 'pie', ($log, utils) ->\n  pieCntr = 0\n\n  return {\n  restrict: 'EA'\n  require: '^layout'\n  link: (scope, element, attrs, controller) ->\n    layout = controller.me\n\n    # set chart specific defaults\n\n    _id = \"pie#{pieCntr++}\"\n\n    arcs = null\n    oldKeys = []\n    _scaleList = []\n    _selected = undefined\n    _tooltip = undefined\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    ttEnter = (data) ->\n      @headerName = _scaleList.color.axisLabel()\n      @headerValue = _scaleList.size.axisLabel()\n      @layers.push({name: _scaleList.color.formattedValue(data.data), value: _scaleList.size.formattedValue(data.data), color:{'background-color': _scaleList.color.map(data.data)}})\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    initialShow = true\n\n    init = (s) ->\n      if initialShow\n        s.style('opacity', 0)\n\n    draw = (data, options, x, y, color, size) ->\n      #$log.debug 'drawing pie chart v2'\n\n      if not arcs\n        arcs = @selectAll('.arc')\n\n      r = Math.min(options.width, options.height) / 2 - 10 #for glow shadow\n\n      arc = d3.svg.arc()\n        .outerRadius(r)\n        .innerRadius(0)\n\n      pie = d3.layout.pie()\n        .sort(null)\n        .value(size.value)\n\n      arcTween = (a) ->\n        i = d3.interpolate(this._current, a)\n        this._current = i(0)\n        return (t) ->\n          arc(i(t))\n\n      oldPie = arcs.data()\n      newPie = pie(data)\n\n      getNeighbour = (d, i, from) ->\n        # find neighbour in the data\n        domain = color.scale.domain()\n        domIdx = domain.indexOf(key(d))\n        a = findArc(domain, domIdx, from)\n        #$log.info a\n        return a or d\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      findArcByKey = (key, pie) ->\n        for a in pie\n          if color.value(a.data) is key\n            return a\n\n      getPred = (key, d) ->\n        pred = findArcByKey(key, oldPie)\n        if pred then {startAngle:pred.endAngle, endAngle:pred.endAngle} else if oldPie.length >0 then {startAngle:0, endAngle:0} else d\n\n      getSucc = (key,d) ->\n        succ = findArcByKey(key, newPie)\n        if succ\n          d.startAngle = succ.startAngle\n          d.endAngle = succ.startAngle\n        else\n          d.startAngle = Math.PI * 2\n          d.endAngle = Math.PI * 2\n        return d\n\n      newKeys = color.value(data)\n\n      deletedSucc = utils.diff(oldKeys, newKeys, 1)\n      addedPred = utils.diff(newKeys, oldKeys, -1)\n\n      #$log.info 'Pie: deleted, added', deletedSucc, addedPred\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      arcs = arcs\n        .data(newPie,(d) -> color.value(d.data))\n\n      arcs.enter().append('path')\n        .each((d) -> this._current = getPred(addedPred[color.value(d.data)], d))\n        .attr('class','arc selectable')\n        .style('fill', (d) ->  color.map(d.data))\n        .call(init)\n        .call(_tooltip.tooltip)\n        .call(_selected)\n\n      arcs\n        .attr('transform', \"translate(#{options.width / 2},#{options.height / 2})\")\n        .transition().duration(options.duration)\n          .style('opacity', 1)\n          .attrTween('d',arcTween)\n\n      arcs.exit().datum((d) -> getSucc(deletedSucc[color.value(d.data)],d))\n        .transition().duration(options.duration)\n        .attrTween('d',arcTween)\n      .remove()\n\n      oldKeys = newKeys\n      initialShow = false\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    layout.lifeCycle().on 'configure', ->\n      _scaleList = this.getScales(['size', 'color'])\n      _tooltip = layout.behavior().tooltip\n      _selected = layout.behavior().selected\n      _tooltip.on \"enter.#{_id}\", ttEnter\n\n    layout.lifeCycle().on 'draw', draw\n  }","angular.module('wk.chart').directive 'scatter', ($log, utils) ->\n  scatterCnt = 0\n  return {\n    restrict: 'A'\n    require: '^layout'\n    link: (scope, element, attrs, controller) ->\n      layout = controller.me\n      _tooltip = undefined\n      _selected = undefined\n      _id = 'scatter' + scatterCnt++\n      _scaleList = []\n\n      ttEnter = (data) ->\n        for sName, scale of _scaleList\n          @layers.push({\n            name: scale.axisLabel(),\n            value: scale.formattedValue(data),\n            color: if sName is 'color' then {'background-color':scale.map(data)} else undefined,\n            path: if sName is 'shape' then d3.svg.symbol().type(scale.map(data)).size(80)() else undefined\n            class: if sName is 'shape' then 'tt-svg-shape' else ''\n          })\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      initialShow = true\n\n\n\n      draw = (data, options, x, y, color, size, shape) ->\n        #$log.debug 'drawing scatter chart'\n        init = (s) ->\n          if initialShow\n            s.style('fill', color.map)\n            .attr('transform', (d)-> \"translate(#{x.map(d)},#{y.map(d)})\").style('opacity', 1)\n          initialShow = false\n\n        points = @selectAll('.points')\n          .data(data)\n        points.enter()\n          .append('path').attr('class', 'points selectable')\n          .attr('transform', (d)-> \"translate(#{x.map(d)},#{y.map(d)})\")\n          .call(init)\n          .call(_tooltip.tooltip)\n          .call(_selected)\n        points\n          .transition().duration(options.duration)\n          .attr('d', d3.svg.symbol().type((d) -> shape.map(d)).size((d) -> size.map(d) * size.map(d)))\n          .style('fill', color.map)\n          .attr('transform', (d)-> \"translate(#{x.map(d)},#{y.map(d)})\").style('opacity', 1)\n\n        points.exit().remove()\n\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      layout.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color', 'size', 'shape'])\n        @getKind('y').domainCalc('extent').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = layout.behavior().tooltip\n        _selected = layout.behavior().selected\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      layout.lifeCycle().on 'draw', draw\n  }\n","angular.module('wk.chart').directive 'simpleBar', ($log, utils)->\n  sBarCntr = 0\n  return {\n  restrict: 'A'\n  require: '^layout'\n\n  link: (scope, element, attrs, controller) ->\n    host = controller.me\n\n    _id = \"simpleBar#{sBarCntr++}\"\n\n    bars = null\n    oldLayout = []\n    oldKeys = []\n    _scaleList = {}\n    _selected = undefined\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    getXByKey = (key, layout) ->\n      for l in layout\n        if l.key is key\n          return l\n\n    getPredX = (key, layout) ->\n      pred = getXByKey(key, layout)\n      if pred then pred.x + pred.width * 1.05 else 0\n\n    getSuccX = (key, layout) ->\n      succ = getXByKey(key, layout)\n      if succ then succ.x - succ.width * 0.05 else layout[layout.length - 1].x + layout[layout.length - 1].width * 1.05\n\n\n    #--- Tooltip Event Handlers --------------------------------------------------------------------------------------\n\n    _tooltip = undefined\n\n    ttEnter = (data) ->\n      @headerName = _scaleList.x.axisLabel()\n      @headerValue = _scaleList.y.axisLabel()\n      @layers.push({name: _scaleList.color.formattedValue(data.data), value: _scaleList.y.formattedValue(data.data), color:{'background-color': _scaleList.color.map(data.data)}})\n\n    #--- Draw --------------------------------------------------------------------------------------------------------\n\n    draw = (data, options, x, y, color) ->\n\n      if not bars\n        bars = @selectAll('.bars')\n      #$log.log \"rendering stacked-bar\"\n\n      layout = data.map((d) -> {data:d, key:x.value(d), value:y.value(d), x:x.map(d), y:y.map(d), color:color.map(d), width:x.scale().rangeBand(x.value(d))})\n      newKeys = layout.map((d) -> d.key)\n\n      deletedSucc = utils.diff(oldKeys, newKeys, 1)\n      addedPred = utils.diff(newKeys, oldKeys, -1)\n\n      bars = bars.data(layout, (d) -> d.key)\n\n      if oldLayout.length is 0\n        bars.enter().append('rect')\n          .attr('class', 'bar selectable')\n          .style('opacity', 0)\n          .call(_tooltip.tooltip)\n          .call(_selected)\n      else\n        bars.enter().append('rect')\n          .attr('class', 'bar selectable')\n          .attr('x', (d) -> getPredX(addedPred[d.key], oldLayout))\n          .attr('width', 0)\n          .call(_tooltip.tooltip)\n          .call(_selected)\n\n      bars.style('fill', (d) -> d.color).transition().duration(options.duration)\n        .attr('y', (d) -> Math.min(y.scale()(0), d.y))\n        .attr('width', (d) -> d.width)\n        .attr('height', (d) -> Math.abs(y.scale()(0) - d.y))\n        .attr('x', (d) -> d.x)\n        .style('opacity', 1)\n\n      bars.exit()\n        .transition().duration(options.duration)\n        .attr('x', (d) -> getSuccX(deletedSucc[d.key], layout))\n        .attr('width', 0)\n        .remove()\n\n      oldLayout = layout\n      oldKeys = newKeys\n\n    #--- Configuration and registration ------------------------------------------------------------------------------\n\n    host.lifeCycle().on 'configure', ->\n      _scaleList = @getScales(['x', 'y', 'color'])\n      @getKind('y').domainCalc('total').resetOnNewData(true)\n      @getKind('x').resetOnNewData(true)\n      _tooltip = host.behavior().tooltip\n      _selected = host.behavior().selected\n      _tooltip.on \"enter.#{_id}\", ttEnter\n\n    host.lifeCycle().on 'draw', draw\n\n  }","angular.module('wk.chart').directive 'spider', ($log, utils) ->\n  spiderCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n\n    link: (scope, element, attrs, controller) ->\n      layout = controller.me\n      #$log.debug 'bubbleChart linked'\n\n      _tooltip = undefined\n      _scaleList = {}\n      _id = 'spider' + spiderCntr++\n      axis = d3.svg.axis()\n      _data = undefined\n\n      #--- Tooltip Event Handlers --------------------------------------------------------------------------------------\n\n      ttEnter = (data) ->\n        @layers = _data.map((d) ->  {name:_scaleList.x.value(d), value:_scaleList.y.formatValue(d[data]), color: {'background-color':_scaleList.color.scale()(data)}})\n\n      #--- Draw --------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        _data = data\n        $log.log data\n        # compute center of area\n        centerX = options.width/2\n        centerY = options.height/2\n        radius = d3.min([centerX, centerY]) * 0.8\n        textOffs = 20\n        nbrAxis = data.length\n        arc = Math.PI * 2 / nbrAxis\n        degr = 360 / nbrAxis\n\n        axisG = this.select('.axis')\n        if axisG.empty()\n          axisG = this.append('g').attr('class', 'axis')\n\n        ticks = y.scale().ticks(y.ticks())\n        y.scale().range([radius,0]) # tricks the way axis are drawn. Not pretty, but works :-)\n        axis.scale(y.scale()).orient('right').tickValues(ticks).tickFormat(y.tickFormat())\n        axisG.call(axis).attr('transform', \"translate(#{centerX},#{centerY-radius})\")\n        y.scale().range([0,radius])\n\n        lines = this.selectAll('.axisLine').data(data,(d) -> d.axis)\n        lines.enter()\n          .append('line').attr('class', 'axisLine')\n          .style('stroke', 'darkgrey')\n\n        lines\n          .attr({x1:0, y1:0, x2:0, y2:radius})\n          .attr('transform',(d,i) -> \"translate(#{centerX}, #{centerY})rotate(#{degr * i})\")\n\n        lines.exit().remove()\n\n        #draw tick lines\n        tickLine = d3.svg.line().x((d) -> d.x).y((d)->d.y)\n        tickPath = this.selectAll('.tickPath').data(ticks)\n        tickPath.enter().append('path').attr('class', 'tickPath')\n          .style('fill', 'none').style('stroke', 'lightgrey')\n\n        tickPath\n          .attr('d',(d) ->\n            p = data.map((a, i) -> {x:Math.sin(arc*i) * y.scale()(d),y:Math.cos(arc*i) * y.scale()(d)})\n            tickLine(p) + 'Z')\n          .attr('transform', \"translate(#{centerX}, #{centerY})\")\n\n        tickPath.exit().remove()\n\n        axisLabels = this.selectAll('.axisText').data(data,(d) -> x.value(d))\n        axisLabels.enter().append('text')\n          .attr('class', 'axisText')\n          .style('fill', 'black')\n          .attr('dy', '0.8em')\n          .attr('text-anchor', 'middle')\n        axisLabels\n          .attr({\n              x: (d, i) -> centerX + Math.sin(arc * i) * (radius + textOffs)\n              y: (d, i) -> centerY + Math.cos(arc * i) * (radius + textOffs)\n            })\n          .text((d) -> x.value(d))\n\n        # draw data lines\n\n        dataPath = d3.svg.line().x((d) -> d.x).y((d) -> d.y)\n\n        dataLine = this.selectAll('.dataLine').data(y.layerKeys(data))\n        dataLine.enter().append('path').attr('class', 'dataLine')\n          .style({\n            stroke:(d) -> color.scale()(d)\n            fill:(d) -> color.scale()(d)\n            'fill-opacity': 0.2\n            'stroke-width': 2\n          })\n          .call(_tooltip.tooltip)\n        dataLine.attr('d', (d) ->\n            p = data.map((a, i) -> {x:Math.sin(arc*i) * y.scale()(a[d]),y:Math.cos(arc*i) * y.scale()(a[d])})\n            dataPath(p) + 'Z'\n          )\n          .attr('transform', \"translate(#{centerX}, #{centerY})\")\n\n\n      #--- Configuration and registration --------------------------------------------------------------------------------\n\n      layout.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        _scaleList.y.domainCalc('max')\n        _scaleList.x.resetOnNewData(true)\n        #@layerScale('color')\n        _tooltip = layout.behavior().tooltip\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      layout.lifeCycle().on 'draw', draw\n\n  }","angular.module('wk.chart').directive 'stackedArea', ($log, utils) ->\n  stackedAreaCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n\n      stack = d3.layout.stack()\n      offset = 'zero'\n      layers = null\n      _showMarkers = false\n      layerKeys = []\n      layerData = []\n      layoutNew = []\n      layoutOld = []\n      layerKeysOld = []\n      area = undefined\n      deletedSucc = {}\n      addedPred = {}\n      _tooltip = undefined\n      _ttHighlight = undefined\n      _circles = undefined\n      _scaleList = {}\n      scaleY = undefined\n      offs = 0\n      _id = 'area' + stackedAreaCntr++\n\n      #--- Tooltip Event Handlers --------------------------------------------------------------------------------------\n\n      ttMoveData = (idx) ->\n        ttLayers = layerData.map((l) -> {name:l.key, value:_scaleList.y.formatValue(l.layer[idx].yy), color: {'background-color': l.color}})\n        @headerName = _scaleList.x.axisLabel()\n        @headerValue = _scaleList.x.formatValue(layerData[0].layer[idx].x)\n        @layers = @layers.concat(ttLayers)\n\n      ttMoveMarker = (idx) ->\n        _circles = this.selectAll(\".marker-#{_id}\").data(layerData, (d) -> d.key)\n        _circles.enter().append('circle').attr('class',\"marker-#{_id}\")\n          .attr('r', if _showMarkers then 8 else 5)\n          .style('fill', (d)-> d.color)\n          .style('fill-opacity', 0.6)\n          .style('stroke', 'black')\n          .style('pointer-events','none')\n        _circles.attr('cy', (d) -> scaleY(d.layer[idx].y + d.layer[idx].y0))\n        _circles.exit().remove()\n\n        this.attr('transform', \"translate(#{_scaleList.x.scale()(layerData[0].layer[idx].x)+offs})\")\n\n      #-------------------------------------------------------------------------------------------------------------------\n\n      getLayerByKey = (key, layout) ->\n        for l in layout\n          if l.key is key\n            return l\n\n      layout = stack.values((d)->d.layer).y((d) -> d.yy)\n\n\n      #-------------------------------------------------------------------------------------------------------------------\n      ###\n      prepData = (x,y,color) ->\n\n        layoutOld = layoutNew.map((d) -> {key: d.key, path: area(d.layer.map((p) -> {x: p.x, y: 0, y0: p.y + p.y0}))})\n        layerKeysOld = layerKeys\n\n        layerKeys = y.layerKeys(@)\n        layerData = layerKeys.map((k) => {key: k, color:color.scale()(k), layer: @map((d) -> {x: x.value(d), yy: +y.layerValue(d,k), y0: 0})}) # yy: need to avoid overwriting by layout calc -> see stack y accessor\n        #layoutNew = layout(layerData)\n\n        deletedSucc = utils.diff(layerKeysOld, layerKeys, 1)\n        addedPred = utils.diff(layerKeys, layerKeysOld, -1)\n      ###\n      #--- Draw --------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color) ->\n        #$log.log \"rendering Area Chart\"\n\n\n        layerKeys = y.layerKeys(data)\n        deletedSucc = utils.diff(layerKeysOld, layerKeys, 1)\n        addedPred = utils.diff(layerKeys, layerKeysOld, -1)\n\n        layerData = layerKeys.map((k) => {key: k, color:color.scale()(k), layer: data.map((d) -> {x: x.value(d), yy: +y.layerValue(d,k), y0: 0})}) # yy: need to avoid overwriting by layout calc -> see stack y accessor\n        layoutNew = layout(layerData)\n\n        offs = if x.isOrdinal() then x.scale().rangeBand() / 2 else 0\n\n        if _tooltip then _tooltip.data(data)\n\n        if not layers\n          layers = this.selectAll('.layer')\n\n        if offset is 'expand'\n          scaleY = y.scale().copy()\n          scaleY.domain([0, 1])\n        else scaleY = y.scale()\n\n        area = d3.svg.area()\n          .x((d) ->  x.scale()(d.x))\n          .y0((d) ->  scaleY(d.y0 + d.y))\n          .y1((d) ->  scaleY(d.y0))\n\n        layers = layers\n          .data(layoutNew, (d) -> d.key)\n\n        if layoutOld.length is 0\n          layers.enter()\n            .append('path').attr('class', 'area')\n            .style('fill', (d, i) -> color.scale()(d.key)).style('opacity', 0)\n            .style('pointer-events', 'none')\n            .style('opacity', 0.7)\n        else\n          layers.enter()\n            .append('path').attr('class', 'area')\n            .attr('d', (d) -> if addedPred[d.key] then getLayerByKey(addedPred[d.key], layoutOld).path else area(d.layer.map((p) ->  {x: p.x, y: 0, y0: 0})))\n            .style('fill', (d, i) -> color.scale()(d.key))\n            .style('pointer-events', 'none')\n            .style('opacity', 0.7)\n\n        layers\n          .attr('transform', \"translate(#{offs})\")\n          .transition().duration(options.duration)\n            .attr('d', (d) -> area(d.layer))\n\n\n        layers.exit().transition().duration(options.duration)\n          .attr('d', (d) ->\n            succ = deletedSucc[d.key]\n            if succ then area(getLayerByKey(succ, layoutNew).layer.map((p) -> {x: p.x, y: 0, y0: p.y0})) else area(layoutNew[layoutNew.length - 1].layer.map((p) -> {x: p.x, y: 0, y0: p.y0 + p.y}))\n          )\n          .remove()\n\n        layoutOld = layoutNew.map((d) -> {key: d.key, path: area(d.layer.map((p) -> {x: p.x, y: 0, y0: p.y + p.y0}))})\n        layerKeysOld = layerKeys\n\n      #--- Configuration and registration ------------------------------------------------------------------------------\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @layerScale('color')\n        @getKind('y').domainCalc('total').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true).domainCalc('extent')\n        _tooltip = host.behavior().tooltip\n        _tooltip.markerScale(_scaleList.x)\n        _tooltip.on \"enter.#{_id}\", ttMoveData\n        _tooltip.on \"moveData.#{_id}\", ttMoveData\n        _tooltip.on \"moveMarker.#{_id}\", ttMoveMarker\n\n      host.lifeCycle().on 'draw', draw\n\n      #--- Property Observers ------------------------------------------------------------------------------------------\n\n      attrs.$observe 'stackedArea', (val) ->\n        if val in ['zero', 'silhouette', 'expand', 'wiggle']\n          offset = val\n        else\n          offset = \"zero\"\n        stack.offset(offset)\n        host.lifeCycle().update()\n\n      attrs.$observe 'markers', (val) ->\n        if val is '' or val is 'true'\n          _showMarkers = true\n        else\n          _showMarkers = false\n  }","angular.module('wk.chart').directive 'stackedBar', ($log, utils) ->\n\n  stackedBarCntr = 0\n  return {\n    restrict: 'A'\n    require: 'layout'\n    link: (scope, element, attrs, controller) ->\n      host = controller.me\n      #$log.log 'linking Stacked bar'\n\n      _id = \"stackedBar#{stackedBarCntr++}\"\n\n      layers = null\n\n      stack = []\n      oldKeys = []\n      oldXKeys = []\n      oldStack = []\n      _tooltip = ()->\n      _scaleList = {}\n      _selected = undefined\n\n      ttEnter = (data) ->\n        ttLayers = data.layers.map((l) -> {name:l.layerKey, value:_scaleList.y.formatValue(l.value), color: {'background-color': l.color}})\n        @headerName = _scaleList.x.axisLabel()\n        @headerValue = _scaleList.x.formatValue(data.key)\n        @layers = @layers.concat(ttLayers)\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      getXByKey = (stack, key) ->\n        i = 0\n        while i < stack.length\n          if stack[i].key is key\n            return stack[i]\n          i++\n\n      getLayerByKey = (stack, xKey, layerKey) ->\n        s = getXByKey(stack, xKey)\n        if s\n          i = 0\n          while i < s.layers.length\n            if s.layers[i].layerKey is layerKey\n              return s.layers[i]\n            i++\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n      draw = (data, options, x, y, color, size, shape) ->\n        if not layers\n          layers = @selectAll(\".layer\")\n        #$log.debug \"drawing stacked-bar\"\n\n\n        layerKeys = y.layerKeys(data)\n        xKeys = x.value(data)\n\n        lDeletedSucc = utils.diff(oldKeys,layerKeys,1)\n        lAddedPred = utils.diff(layerKeys, oldKeys, -1)\n        xDeletedSucc = utils.diff(oldXKeys, xKeys,1)\n        xAddedPred = utils.diff(xKeys,oldXKeys,-1)\n\n        stack = []\n        for d in data\n          y0 = 0\n          l = {key:x.value(d), layers:[], data:d, x:x.map(d), width:x.scale().rangeBand()}\n          if l.x isnt undefined\n            l.layers = layerKeys.map((k) ->\n              layer = {layerKey:k, key:l.key, value:d[k], height:  y.scale()(0) - y.scale()(+d[k]), width: x.scale().rangeBand(), y: y.scale()(+y0 + +d[k]), color: color.scale()(k)}\n              y0 += +d[k]\n              return layer\n            )\n            stack.push(l)\n\n        layers = layers\n          .data(stack, (d)-> d.key)\n\n        if oldStack.length is 0\n          layers.enter().append('g')\n            .attr('class', \"layer\").attr('transform',(d) -> \"translate(#{d.x},0) scale(1,1)\").style('opacity',0).call(_tooltip.tooltip)\n        else\n          layers.enter().append('g')\n            .attr('class', \"layer\").attr('transform',(d) ->\n              pred = getXByKey(oldStack, xAddedPred[d.key])\n              tx = if pred then pred.x + pred.width * 1.05 else 0\n              return \"translate(#{tx},0) scale(0,1)\"\n            ).call(_tooltip.tooltip)\n\n        layers\n          .transition().duration(options.duration)\n          .attr('transform',(d) ->\n            return \"translate(#{d.x},0) scale(1,1)\").style('opacity', 1)\n\n        layers.exit()\n          .transition().duration(options.duration)\n          .attr('transform',(d, i) ->\n            succ = getXByKey(stack, xDeletedSucc[d.key])\n            tx = if succ then succ.x - succ.width * 0.05 else if stack.length > 0 then stack[stack.length-1].x + stack[stack.length-1].width else 0\n            return \"translate(#{tx},#{y.scale()(0)}) scale(0,0)\")\n          .remove()\n\n        bars = layers.selectAll('.bar')\n          .data(\n            (d) -> d.layers\n          , (d) -> d.layerKey + '|' + d.key\n          )\n\n        if oldStack.length is 0\n          bars.enter().append('rect')\n            .attr('class', 'bar')\n            .call(_selected)\n        else\n          bars.enter().append('rect')\n            .attr('class', 'bar selectable')\n            .attr('y', (d) ->\n              pred = getLayerByKey(oldStack, d.key, lAddedPred[d.layerKey])\n              return if pred then pred.y else y.scale()(0)\n            )\n            .attr('height', 0).attr('width',(d) -> d.width)\n            .call(_selected)\n\n\n        bars.style('fill', (d) -> d.color)\n          .transition().duration(options.duration)\n            .attr('y', (d) -> d.y)\n            .attr('width', (d) -> d.width)\n            .attr('height', (d) -> d.height)\n\n        bars.exit()\n          .transition().duration(options.duration)\n          .attr('height',0)\n          .attr('y', (d) ->\n            succ = getLayerByKey(stack, d.key, lDeletedSucc[d.layerKey])\n            if succ\n              return succ.y + succ.height\n            else\n              x = getXByKey(stack, d.key)\n              return x.layers[x.layers.length - 1].y\n          )\n          .remove()\n\n        oldKeys = layerKeys\n        oldXKeys = xKeys\n        oldStack = stack\n\n      #-----------------------------------------------------------------------------------------------------------------\n\n\n      host.lifeCycle().on 'configure', ->\n        _scaleList = @getScales(['x', 'y', 'color'])\n        @getKind('y').domainCalc('total').resetOnNewData(true)\n        @getKind('x').resetOnNewData(true)\n        @layerScale('color')\n        _tooltip = host.behavior().tooltip\n        _selected = host.behavior().selected\n        _tooltip.on \"enter.#{_id}\", ttEnter\n\n      host.lifeCycle().on 'draw', draw\n      host.lifeCycle().on 'brushDraw', draw\n  }","angular.module('wk.chart').factory 'behaviorBrush', ($log, $window, selectionSharing, timing) ->\n\n  behaviorBrush = () ->\n\n    me = () ->\n\n    _active = false\n    _overlay = undefined\n    _extent = undefined\n    _startPos = undefined\n    _evTargetData = undefined\n    _area = undefined\n    _chart = undefined\n    _data = undefined\n    _areaSelection = undefined\n    _areaBox = undefined\n    _backgroundBox = undefined\n    _container = undefined\n    _selectables =  undefined\n    _brushGroup = undefined\n    _x = undefined\n    _y = undefined\n    _tooltip = undefined\n    _brushXY = false\n    _brushX = false\n    _brushY = false\n    _boundsIdx = undefined\n    _boundsValues = undefined\n    _boundsDomain = undefined\n    _brushEvents = d3.dispatch('brushStart', 'brush', 'brushEnd')\n\n    left = top = right = bottom = startTop = startLeft = startRight = startBottom = undefined\n\n    #--- Brush utility functions ----------------------------------------------------------------------------------------\n\n    positionBrushElements = (left, right, top, bottom) ->\n      width = right - left\n      height = bottom - top\n\n      # position resize-handles into the right corners\n      if _brushXY\n        _overlay.selectAll('.n').attr('transform', \"translate(#{left},#{top})\").select('rect').attr('width', width)\n        _overlay.selectAll('.s').attr('transform', \"translate(#{left},#{bottom})\").select('rect').attr('width', width)\n        _overlay.selectAll('.w').attr('transform', \"translate(#{left},#{top})\").select('rect').attr('height', height)\n        _overlay.selectAll('.e').attr('transform', \"translate(#{right},#{top})\").select('rect').attr('height', height)\n        _overlay.selectAll('.ne').attr('transform', \"translate(#{right},#{top})\")\n        _overlay.selectAll('.nw').attr('transform', \"translate(#{left},#{top})\")\n        _overlay.selectAll('.se').attr('transform', \"translate(#{right},#{bottom})\")\n        _overlay.selectAll('.sw').attr('transform', \"translate(#{left},#{bottom})\")\n        _extent.attr('width', width).attr('height', height).attr('x', left).attr('y', top)\n      if _brushX\n        _overlay.selectAll('.w').attr('transform', \"translate(#{left},0)\").select('rect').attr('height', height)\n        _overlay.selectAll('.e').attr('transform', \"translate(#{right},0)\").select('rect').attr('height', height)\n        _overlay.selectAll('.e').select('rect').attr('height', _areaBox.height)\n        _overlay.selectAll('.w').select('rect').attr('height', _areaBox.height)\n        _extent.attr('width', width).attr('height', _areaBox.height).attr('x', left).attr('y', 0)\n      if _brushY\n        _overlay.selectAll('.n').attr('transform', \"translate(0,#{top})\").select('rect').attr('width', width)\n        _overlay.selectAll('.s').attr('transform', \"translate(0,#{bottom})\").select('rect').attr('width', width)\n        _overlay.selectAll('.n').select('rect').attr('width', _areaBox.width)\n        _overlay.selectAll('.s').select('rect').attr('width', _areaBox.width)\n        _extent.attr('width', _areaBox.width).attr('height', height).attr('x', 0).attr('y', top)\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    getSelectedObjects = () ->\n      er = _extent.node().getBoundingClientRect()\n      _selectables.each((d) ->\n          cr = this.getBoundingClientRect()\n          xHit = er.left < cr.right - cr.width / 3 and cr.left + cr.width / 3 < er.right\n          yHit = er.top < cr.bottom - cr.height / 3 and cr.top + cr.height / 3 < er.bottom\n          d3.select(this).classed('selected', yHit and xHit)\n        )\n      return _container.selectAll('.selected').data()\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    setSelection = (left, right, top, bottom) ->\n      if _brushX\n        _boundsIdx = [me.x().invert(left), me.x().invert(right)]\n        if me.x().isOrdinal()\n          _boundsValues = _data.map((d) -> me.x().value(d)).slice(_boundsIdx[0], _boundsIdx[1] + 1)\n        else\n          _boundsValues = [me.x().value(_data[_boundsIdx[0]]), me.x().value(_data[_boundsIdx[1]])]\n        _boundsDomain = _data.slice(_boundsIdx[0], _boundsIdx[1] + 1)\n      if _brushY\n        _boundsIdx = [me.y().invert(bottom), me.y().invert(top)]\n        if me.y().isOrdinal()\n          _boundsValues = _data.map((d) -> me.y().value(d)).slice(_boundsIdx[0], _boundsIdx[1] + 1)\n        else\n          _boundsValues = [me.y().value(_data[_boundsIdx[0]]), me.y().value(_data[_boundsIdx[1]])]\n        _boundsDomain = _data.slice(_boundsIdx[0], _boundsIdx[1] + 1)\n      if _brushXY\n        _boundsIdx = []\n        _boundsValues = []\n        _boundsDomain = getSelectedObjects()\n\n    #--- BrushStart Event Handler --------------------------------------------------------------------------------------\n\n\n\n    brushStart = () ->\n      #register a mouse handlers for the brush\n      d3.event.preventDefault()\n      _evTargetData = d3.select(d3.event.target).datum()\n      _areaBox = _area.getBBox()\n      _startPos = d3.mouse(_area)\n      startTop = top\n      startLeft = left\n      startRight = right\n      startBottom = bottom\n      d3.select(_area).style('pointer-events','none').selectAll(\".resize\").style(\"display\", null)\n      d3.select('body').style('cursor', d3.select(d3.event.target).style('cursor'))\n\n      d3.select($window).on('mousemove.brush', brushMove).on('mouseup.brush', brushEnd)\n\n      _tooltip.hide(true)\n      _boundsIdx = undefined\n      _selectables = _container.selectAll('.selectable')\n      _brushEvents.brushStart()\n      timing.clear()\n      timing.init()\n\n    #--- BrushEnd Event Handler ----------------------------------------------------------------------------------------\n\n    brushEnd = () ->\n      #de-register handlers\n\n      d3.select($window).on 'mousemove.brush', null\n      d3.select($window).on 'mouseup.brush', null\n      d3.select(_area).style('pointer-events','all').selectAll('.resize').style('display', null) # show the resize handlers\n      d3.select('body').style('cursor', null)\n      if bottom - top is 0 or right - left is 0\n        #brush is empty\n        d3.select(_area).selectAll('.resize').style('display', 'none')\n      _tooltip.hide(false)\n      _brushEvents.brushEnd(_boundsIdx)\n      timing.report()\n\n    #--- BrushMove Event Handler ---------------------------------------------------------------------------------------\n\n    brushMove = () ->\n      $log.info 'brushmove'\n      pos = d3.mouse(_area)\n      deltaX = pos[0] - _startPos[0]\n      deltaY = pos[1] - _startPos[1]\n\n      # this elaborate code is needed to deal with scenarios when mouse moves fast and the events do not hit x/y + delta\n      # does not hi the 0 point maye there is a more elegant way to write this, but for now it works :-)\n\n      leftMv = (delta) ->\n        pos = startLeft + delta\n        left = if pos >= 0 then (if pos < startRight then pos else startRight) else 0\n        right = if pos <= _areaBox.width then (if pos < startRight then startRight else pos) else _areaBox.width\n\n      rightMv = (delta) ->\n        pos = startRight + delta\n        left = if pos >= 0 then (if pos < startLeft then pos else startLeft) else 0\n        right = if pos <= _areaBox.width then (if pos < startLeft then startLeft else pos) else _areaBox.width\n\n      topMv = (delta) ->\n        pos = startTop + delta\n        top = if pos >= 0 then (if pos < startBottom then pos else startBottom) else 0\n        bottom = if pos <= _areaBox.height then (if pos > startBottom then pos else startBottom ) else _areaBox.height\n\n      bottomMv = (delta) ->\n        pos = startBottom + delta\n        top = if pos >= 0 then (if pos < startTop then pos else startTop) else 0\n        bottom = if pos <= _areaBox.height then (if pos > startTop then pos else startTop ) else _areaBox.height\n\n      horMv = (delta) ->\n        if startLeft + delta >= 0\n          if startRight + delta <= _areaBox.width\n            left = startLeft + delta\n            right = startRight + delta\n          else\n            right = _areaBox.width\n            left = _areaBox.width - (startRight - startLeft)\n        else\n          left = 0\n          right = startRight - startLeft\n\n      vertMv = (delta) ->\n        if startTop + delta >= 0\n          if startBottom + delta <= _areaBox.height\n            top = startTop + delta\n            bottom = startBottom + delta\n          else\n            bottom = _areaBox.height\n            top = _areaBox.height - (startBottom - startTop)\n        else\n          top = 0\n          bottom = startBottom - startTop\n\n      switch _evTargetData.name\n        when 'background'\n          if deltaX + _startPos[0] > 0\n            left = if deltaX < 0 then _startPos[0] + deltaX else _startPos[0]\n            if left + Math.abs(deltaX) < _areaBox.width\n              right = left + Math.abs(deltaX)\n            else\n              right = _areaBox.width\n          else\n            left = 0\n\n          if deltaY + _startPos[1] > 0\n            top = if deltaY < 0 then _startPos[1] + deltaY else _startPos[1]\n            if top + Math.abs(deltaY) < _areaBox.height\n              bottom = top + Math.abs(deltaY)\n            else\n              bottom = _areaBox.height\n          else\n            top = 0\n\n        when 'extent'\n          vertMv(deltaY); horMv(deltaX)\n        when 'n'\n          topMv(deltaY)\n        when 's'\n          bottomMv(deltaY)\n        when 'w'\n          leftMv(deltaX)\n        when 'e'\n          rightMv(deltaX)\n        when 'nw'\n          topMv(deltaY); leftMv(deltaX)\n        when 'ne'\n          topMv(deltaY); rightMv(deltaX)\n        when 'sw'\n          bottomMv(deltaY); leftMv(deltaX)\n        when 'se'\n          bottomMv(deltaY); rightMv(deltaX)\n\n      positionBrushElements(left, right, top, bottom)\n      setSelection(left, right, top, bottom)\n      _brushEvents.brush(_boundsIdx, _boundsValues, _boundsDomain)\n      selectionSharing.setSelection _boundsValues, _brushGroup\n\n    #--- Brush ---------------------------------------------------------------------------------------------------------\n\n    me.brush = (s) ->\n      if arguments.length is 0 then return _overlay\n      else\n        if not _active then return\n        _overlay = s\n        _brushXY = me.x() and me.y()\n        _brushX = me.x() and not me.y()\n        _brushY = me.y() and not me.x()\n        # create the handler elements and register the handlers\n        s.style({'pointer-events': 'all', cursor: 'crosshair'})\n        #s.append('rect').attr('class', 'background').style({visibility:'hidden'}).datum({name:'background', cursor:''})\n        _extent = s.append('rect').attr({class:'extent', x:0, y:0, width:0, height:0}).style('cursor','move').datum({name:'extent'})\n        # resize handles for the sides\n        if _brushY or _brushXY\n          s.append('g').attr('class', 'resize n').style({cursor:'ns-resize', display:'none'})\n            .append('rect').attr({x:0, y: -3, width:0, height:6}).datum({name:'n'})\n          s.append('g').attr('class', 'resize s').style({cursor:'ns-resize', display:'none'})\n            .append('rect').attr({x:0, y: -3, width:0, height:6}).datum({name:'s'})\n        if _brushX or _brushXY\n          s.append('g').attr('class', 'resize w').style({cursor:'ew-resize', display:'none'})\n            .append('rect').attr({y:0, x: -3, width:6, height:0}).datum({name:'w'})\n          s.append('g').attr('class', 'resize e').style({cursor:'ew-resize', display:'none'})\n            .append('rect').attr({y:0, x: -3, width:6, height:0}).datum({name:'e'})\n        # resize handles for the corners\n        if _brushXY\n          s.append('g').attr('class', 'resize nw').style({cursor:'nwse-resize', display:'none'})\n          .append('rect').attr({x: -3, y: -3, width:6, height:6}).datum({name:'nw'})\n          s.append('g').attr('class', 'resize ne').style({cursor:'nesw-resize', display:'none'})\n          .append('rect').attr({x: -3, y: -3, width:6, height:6}).datum({name:'ne'})\n          s.append('g').attr('class', 'resize sw').style({cursor:'nesw-resize', display:'none'})\n          .append('rect').attr({x: -3, y: -3, width:6, height:6}).datum({name:'sw'})\n          s.append('g').attr('class', 'resize se').style({cursor:'nwse-resize', display:'none'})\n          .append('rect').attr({x: -3, y: -3, width:6, height:6}).datum({name:'se'})\n        #register handler. Please note, brush wants the mouse down exclusively !!!\n        s.on 'mousedown.brush', brushStart\n        return me\n\n    #--- Extent resize handler -----------------------------------------------------------------------------------------\n\n    resizeExtent = () ->\n      if _areaBox\n        $log.info 'resizeHandler'\n        newBox = _area.getBBox()\n        horizontalRatio = _areaBox.width / newBox.width\n        verticalRatio = _areaBox.height / newBox.height\n        top = top / verticalRatio\n        startTop = startTop / verticalRatio\n        bottom = bottom / verticalRatio\n        startBottom = startBottom / verticalRatio\n        left = left / horizontalRatio\n        startLeft = startLeft / horizontalRatio\n        right = right / horizontalRatio\n        startRight = startRight / horizontalRatio\n        _startPos[0] = _startPos[0] / horizontalRatio\n        _startPos[1] = _startPos[1] / verticalRatio\n        _areaBox = newBox\n        positionBrushElements(left, right, top, bottom)\n\n    #--- Brush Properties --------------------------------------------------------------------------------------------\n\n    me.chart = (val) ->\n      if arguments.length is 0 then return _chart\n      else\n        _chart = val\n        _chart.lifeCycle().on 'resize.brush', resizeExtent\n        return me #to enable chaining\n\n    me.active = (val) ->\n      if arguments.length is 0 then return _active\n      else\n        _active = val\n        return me #to enable chaining\n\n    me.x = (val) ->\n      if arguments.length is 0 then return _x\n      else\n        _x = val\n        return me #to enable chaining\n\n    me.y = (val) ->\n      if arguments.length is 0 then return _y\n      else\n        _y = val\n        return me #to enable chaining\n\n    me.area = (val) ->\n      if arguments.length is 0 then return _areaSelection\n      else\n        if not _areaSelection\n          _areaSelection = val\n          _area = _areaSelection.node()\n          #_areaBox = _area.getBBox() need to get when calculating size to deal with resizing\n          me.brush(_areaSelection)\n\n        return me #to enable chaining\n\n    me.container = (val) ->\n      if arguments.length is 0 then return _container\n      else\n        _container = val\n        _selectables = _container.selectAll('.selectable')\n        return me #to enable chaining\n\n    me.data = (val) ->\n      if arguments.length is 0 then return _data\n      else\n        _data = val\n        return me #to enable chaining\n\n    me.brushGroup = (val) ->\n      if arguments.length is 0 then return _brushGroup\n      else\n        _brushGroup = val\n        selectionSharing.createGroup(_brushGroup)\n        return me #to enable chaining\n\n    me.tooltip = (val) ->\n      if arguments.length is 0 then return _tooltip\n      else\n        _tooltip = val\n        return me #to enable chaining\n\n    me.on = (name, callback) ->\n      _brushEvents.on name, callback\n\n    me.extent = () ->\n      return _boundsIdx\n\n    me.events = () ->\n      return _brushEvents\n\n    me.empty = () ->\n      return _boundsIdx is undefined\n\n    return me\n  return behaviorBrush","angular.module('wk.chart').factory 'behaviorSelect', ($log) ->\n  selectId = 0\n\n  select = () ->\n\n    _id = \"select#{selectId++}\"\n    _container = undefined\n    _active = false\n    _selectionEvents = d3.dispatch('selected')\n\n    clicked = () ->\n      if not _active then return\n      obj = d3.select(this)\n      if not _active then return\n      if obj.classed('selectable')\n        isSelected = obj.classed('selected')\n        obj.classed('selected', not isSelected)\n        allSelected = _container.selectAll('.selected').data().map((d) -> if d.data then d.data else d)\n        # ensure that only the original values are reported back\n\n        _selectionEvents.selected(allSelected)\n\n    me = (sel) ->\n      if arguments.length is 0 then return me\n      else\n        sel\n          # register selection events\n          .on 'click', clicked\n        return me\n\n    me.id = () ->\n      return _id\n\n    me.active = (val) ->\n      if arguments.length is 0 then return _active\n      else\n        _active = val\n        return me #to enable chaining\n\n    me.container = (val) ->\n      if arguments.length is 0 then return _container\n      else\n        _container = val\n        return me #to enable chaining\n\n    me.events = () ->\n      return _selectionEvents\n\n    me.on = (name, callback) ->\n      _selectionEvents.on name, callback\n      return me\n\n    return me\n\n  return select","angular.module('wk.chart').factory 'behaviorTooltip', ($log, $document, $rootScope, $compile, $templateCache, templateDir) ->\n\n  behaviorTooltip = () ->\n\n    _active = false\n    _hide = false\n    _showMarkerLine = undefined\n    _markerG = undefined\n    _markerLine = undefined\n    _areaSelection = undefined\n    _area= undefined\n    _container = undefined\n    _markerScale = undefined\n    _data = undefined\n    _tooltipDispatch = d3.dispatch('enter', 'moveData', 'moveMarker', 'leave')\n\n    _templ = $templateCache.get(templateDir + 'toolTip.jade')\n    _templScope = $rootScope.$new(true)\n    _compiledTempl = $compile(_templ)(_templScope)\n    body = $document.find('body')\n\n    bodyRect = body[0].getBoundingClientRect()\n\n    me = () ->\n\n    #--- helper Functions ----------------------------------------------------------------------------------------------\n\n    positionBox = () ->\n      rect = _compiledTempl[0].getBoundingClientRect()\n      #d3.select(_compiledTempl[0]).style('height',height).style('width', width)\n      clientX = if bodyRect.right - 20 > d3.event.clientX + rect.width + 10 then d3.event.clientX + 10 else d3.event.clientX - rect.width - 10\n      clientY = if bodyRect.bottom - 20 > d3.event.clientY + rect.height + 10 then d3.event.clientY + 10 else d3.event.clientY - rect.height - 10\n      _templScope.position = {\n        position: 'absolute'\n        left: clientX + 'px'\n        top: clientY + 'px'\n        'z-index': 1500\n        opacity: 1\n      }\n      _templScope.$apply()\n\n    positionInitial = () ->\n      _templScope.position = {\n        position: 'absolute'\n        left: 0 + 'px'\n        top: 0 + 'px'\n        'z-index': 1500\n        opacity: 0\n      }\n      _templScope.$apply()  # ensure tooltip gets rendered\n      #wayit until it is rendered and then reposition\n      _.throttle positionBox, 200\n\n    #--- TooltipStart Event Handler ------------------------------------------------------------------------------------\n\n    tooltipEnter = () ->\n      if not _active or _hide then return\n      # append data div\n      body.append(_compiledTempl)\n      _templScope.layers = []\n\n      # get tooltip data value\n\n      if _showMarkerLine\n        _pos = d3.mouse(this)\n        value = _markerScale.invert(if _markerScale.isHorizontal() then _pos[0] else _pos[1])\n      else\n        value = d3.select(this).datum()\n\n      _templScope.ttShow = true\n      _tooltipDispatch.enter.apply(_templScope, [value]) # call layout to fill in data\n      positionInitial()\n\n      # create a marker line if required\n      if _showMarkerLine\n        #_area = this\n        _areaBox = _areaSelection.select('.background').node().getBBox()\n        _pos = d3.mouse(_area)\n        _markerG = _container.append('g')  # need to append marker to chart area to ensure it is on top of the chart elements Fix 10\n          .attr('class', 'tooltipMarker')\n        _markerLine = _markerG.append('line')\n        if _markerScale.isHorizontal()\n          _markerLine.attr({class:'markerLine', x0:0, x1:0, y0:0,y1:_areaBox.height})\n        else\n          _markerLine.attr({class:'markerLine', x0:0, x1:_areaBox.width, y0:0,y1:0})\n\n        _markerLine.style({stroke: 'darkgrey', 'pointer-events': 'none'})\n\n        _tooltipDispatch.moveMarker.apply(_markerG, [value])\n\n    #--- TooltipMove  Event Handler ------------------------------------------------------------------------------------\n\n    tooltipMove = () ->\n      if not _active or _hide then return\n      _pos = d3.mouse(_area)\n      positionBox()\n      if _showMarkerLine\n        #_markerG.attr('transform', \"translate(#{_pos[0]})\")\n        dataIdx = _markerScale.invert(if _markerScale.isHorizontal() then _pos[0] else _pos[1])\n        _tooltipDispatch.moveMarker.apply(_markerG, [dataIdx])\n        _templScope.layers = []\n        _tooltipDispatch.moveData.apply(_templScope, [dataIdx])\n      _templScope.$apply()\n\n    #--- TooltipLeave Event Handler ------------------------------------------------------------------------------------\n\n    tooltipLeave = () ->\n      #$log.debug 'tooltipLeave', _area\n      if _markerG\n        _markerG.remove()\n      _markerG = undefined\n      _templScope.ttShow = false\n      _compiledTempl.remove()\n\n    #--- Interface to brush --------------------------------------------------------------------------------------------\n\n    me.hide = (val) ->\n      if arguments.length is 0 then return _hide\n      else\n        _hide = val\n        if _markerG\n          _markerG.style('visibility', if _hide then 'hidden' else 'visible')\n        _templScope.ttShow = not _hide\n        _templScope.$apply()\n        return me #to enable chaining\n\n\n    #-- Tooltip properties ---------------------------------------------------------------------------------------------\n\n    me.active = (val) ->\n      if arguments.length is 0 then return _active\n      else\n        _active = val\n        return me #to enable chaining\n\n    me.area = (val) ->\n      if arguments.length is 0 then return _areaSelection\n      else\n        _areaSelection = val\n        _area = _areaSelection.node()\n        if _showMarkerLine\n          me.tooltip(_areaSelection)\n        return me #to enable chaining\n\n    me.container = (val) ->\n      if arguments.length is 0 then return _container\n      else\n        _container = val\n        return me #to enable chaining\n\n    me.markerScale = (val) ->\n      if arguments.length is 0 then return _markerScale\n      else\n        if val\n          _showMarkerLine = true\n          _markerScale = val\n        else\n          _showMarkerLine = false\n        return me #to enable chaining\n\n    me.data = (val) ->\n      if arguments.length is 0 then return _data\n      else\n        _data = val\n        return me #to enable chaining\n\n    me.on = (name, callback) ->\n      _tooltipDispatch.on name, callback\n\n    #--- Tooltip -------------------------------------------------------------------------------------------------------\n\n    me.tooltip = (s) -> # register the tooltip events with the selection\n      if arguments.length is 0 then return me\n      else  # set tooltip for an objects selection\n        s.on 'mouseenter.tooltip', tooltipEnter\n          .on 'mousemove.tooltip', tooltipMove\n          .on 'mouseleave.tooltip', tooltipLeave\n\n    return me\n\n  return behaviorTooltip","angular.module('wk.chart').factory 'behavior', ($log, $window, behaviorTooltip, behaviorBrush, behaviorSelect) ->\n\n  behavior = () ->\n\n    _tooltip = behaviorTooltip()\n    _brush = behaviorBrush()\n    _selection = behaviorSelect()\n    _brush.tooltip(_tooltip)\n\n    area = (area) ->\n      _brush.area(area)\n      _tooltip.area(area)\n\n    container = (container) ->\n      _brush.container(container)\n      _selection.container(container)\n      _tooltip.container(container)\n\n    chart = (chart) ->\n      _brush.chart(chart)\n\n    return {tooltip:_tooltip, brush:_brush, selected:_selection, overlay:area, container:container, chart:chart}\n  return behavior","angular.module('wk.chart').factory 'chart', ($log, scaleList, container, behavior, d3Animation) ->\n\n  chartCntr = 0\n\n  chart = () ->\n\n    _id = \"chart#{chartCntr++}\"\n\n    me = () ->\n\n    #--- Variable declarations and defaults ----------------------------------------------------------------------------\n\n    _layouts = []               # List of layouts for the chart\n    _container = undefined    # the charts drawing container object\n    _allScales = undefined    # Holds all scales of the chart, regardless of scale owner\n    _ownedScales = undefined  # holds the scles owned by chart, i.e. share scales\n    _data = undefined           # pointer to the last data set bound to chart\n    _showTooltip = false        # tooltip property\n    _behavior = behavior()\n    _animationDuration = d3Animation.duration\n\n    #--- LifeCycle Dispatcher ------------------------------------------------------------------------------------------\n\n    _lifeCycle = d3.dispatch('configure', 'resize', 'prepareData', 'scaleDomains', 'sizeContainer', 'drawAxis', 'drawChart', 'newData', 'update', 'updateAttrs' )\n    _brush = d3.dispatch('draw', 'change')\n\n    #--- Getter/Setter Functions ---------------------------------------------------------------------------------------\n\n    me.id = (id) ->\n      return _id\n\n    me.showTooltip = (trueFalse) ->\n      if arguments.length is 0 then return _showTooltip\n      else\n        _showTooltip = trueFalse\n        _behavior.tooltip.active(_showTooltip)\n        return me\n\n    me.addLayout = (layout) ->\n      if arguments.length is 0 then return _layouts\n      else\n        _layouts.push(layout)\n        return me\n\n    me.addScale = (scale, layout) ->\n      _allScales.add(scale)\n      if layout\n        layout.scales().add(scale)\n      else\n        _ownedScales.add(scale)\n      return me\n\n    me.animationDuration = (val) ->\n      if arguments.length is 0 then return _animationDuration\n      else\n        _animationDuration = val\n        return me #to enable chaining\n\n    #--- Getter Functions ----------------------------------------------------------------------------------------------\n\n    me.lifeCycle = (val) ->\n      return _lifeCycle\n\n    me.layouts = () ->\n      return _layouts\n\n    me.scales = () ->\n      return _ownedScales\n\n    me.allScales = () ->\n      return _allScales\n\n    me.hasScale = (scale) ->\n      return !!_allScales.has(scale)\n\n    me.container = () ->\n      return _container\n\n    me.brush = () ->\n      return _brush\n\n    me.getData = () ->\n      return _data\n\n    me.behavior = () ->\n      return _behavior\n\n    #--- Chart drawing life cycle --------------------------------------------------------------------------------------\n\n    me.execLifeCycleFull = (data, noAnimation) ->\n      if data\n        _data = data\n        _lifeCycle.prepareData(data, noAnimation)    # calls the registered layout types\n        _lifeCycle.scaleDomains(data, noAnimation)   # calls registered the scales\n        _lifeCycle.sizeContainer(data, noAnimation)  # calls container\n        _lifeCycle.drawAxis(noAnimation)              # calls container\n        _lifeCycle.drawChart(data, noAnimation)      # calls layout\n\n    me.resizeLifeCycle = (noAnimation) ->\n      if _data\n        _lifeCycle.sizeContainer(_data, noAnimation)  # calls container\n        _lifeCycle.drawAxis(noAnimation)              # calls container\n        _lifeCycle.drawChart(_data, noAnimation)\n\n    me.newDataLifeCycle = (data, noAnimation) ->\n      if data\n        _data = data\n        _lifeCycle.prepareData(data, noAnimation)    # calls the registered layout types\n        _lifeCycle.scaleDomains(data, noAnimation)\n        _lifeCycle.drawAxis(noAnimation)              # calls container\n        _lifeCycle.drawChart(data, noAnimation)\n\n    me.attributeChange = (noAnimation) ->\n      if _data\n        _lifeCycle.sizeContainer(_data, noAnimation)\n        _lifeCycle.drawAxis(noAnimation)              # calls container\n        _lifeCycle.drawChart(data, noAnimation)\n\n    me.brushExtentChanged = () ->\n      if _data\n        _lifeCycle.drawAxis(true)              # No Animation\n        _lifeCycle.drawChart(_data, true)\n\n    me.lifeCycle().on 'newData.chart', me.execLifeCycleFull\n    me.lifeCycle().on 'resize.chart', me.resizeLifeCycle\n    me.lifeCycle().on 'update.chart', (noAnimation) -> me.execLifeCycleFull(_data, noAnimation)\n    me.lifeCycle().on 'updateAttrs', me.attributeChange\n\n    #--- Initialization ------------------------------------------------------------------------------------------------\n\n    _behavior.chart(me)\n    _container = container().chart(me)   # the charts drawing container object\n    _allScales = scaleList()    # Holds all scales of the chart, regardless of scale owner\n    _ownedScales = scaleList()  # holds the scles owned by chart, i.e. share scales\n\n    return me\n\n  return chart","angular.module('wk.chart').factory 'container', ($log, $window, d3ChartMargins, scaleList, axisConfig, d3Animation, behavior) ->\n\n  containerCnt = 0\n\n  container = () ->\n\n    me = ()->\n\n    #--- Variable declarations and defaults ----------------------------------------------------------------------------\n\n    _containerId = 'cntnr' + containerCnt++\n    _chart = undefined\n    _element = undefined\n    _elementSelection = undefined\n    _layouts = []\n    _legends = []\n    _svg = undefined\n    _container = undefined\n    _spacedContainer = undefined\n    _chartArea = undefined\n    _margin = angular.copy(d3ChartMargins.default)\n    _innerWidth = 0\n    _innerHeight = 0\n    _data = undefined\n    _overlay = undefined\n    _behavior = undefined\n\n    #--- Utility Functions ---------------------------------------------------------------------------------------------\n\n    _genChartFrame = ()->\n      _svg = _elementSelection.append('div').attr('class', 'd3-chart')\n      .append('svg')\n      _svg.append('defs').append('clipPath').attr('id', \"clip-#{_containerId}\").append('rect')\n      _container= _svg.append('g').attr('class','d3-chart-container')\n      _overlay = _container.append('g').attr('class', 'overlay').style('pointer-events', 'all')\n      _overlay.append('rect').style('visibility', 'hidden').attr('class', 'background').datum({name:'background'})\n      _chartArea = _container.append('g').attr('class', 'chartArea')\n\n    _getAxis = (orient) ->\n      axis = _container.select(\".axis.#{orient}\")\n      if axis.empty()\n        axis = _container.append('g').attr('class',\"axis #{orient}\")\n      if orient is 'bottom'\n        axis.attr('transform', (d) -> \"translate(0, #{_innerHeight})\")\n      if orient is 'right'\n        axis.attr('transform', (d) -> \"translate(#{_innerWidth}, 0)\")\n      return axis\n\n    _removeAxis = (orient) ->\n      _container.select(\".axis.#{orient}\").remove()\n\n    _removeLabel = (orient) ->\n      _container.select(\".label.#{orient}\").remove()\n\n    _getLabel = (orient) ->\n      label = _container.select(\".label.#{orient}\")\n      if label.empty()\n        label = _container.append('g').attr('class',\"label #{orient}\")\n      switch orient\n        when 'top'\n          label.attr('transform', (d) -> \"translate(#{_innerWidth/2}, #{-_margin.top})\")\n        when 'bottom'\n          label.attr('transform', (d) -> \"translate(#{_innerWidth/2},#{_innerHeight+_margin.bottom})\")\n        when 'left'\n          label.attr('transform', (d) -> \"translate(#{-_margin.left},#{_innerHeight/2})rotate(-90)\")\n        when 'right'\n          label.attr('transform', (d) ->\"translate(#{_innerWidth+_margin.right},#{_innerHeight/2})rotate(90)\")\n      return label\n\n    #--- Getter/Setter Functions ---------------------------------------------------------------------------------------\n\n    me.id = () ->\n      return _containerId\n\n    me.chart = (chart) ->\n      if arguments.length is 0 then return _chart\n      else\n        _chart = chart\n        # register to lifecycle events\n        _chart.lifeCycle().on \"sizeContainer.#{me.id()}\", me.sizeContainer\n        _chart.lifeCycle().on \"drawAxis.#{me.id()}\", me.drawAxis\n        return me\n\n    me.element = (elem) ->\n      if arguments.length is 0 then return _element\n      else\n        _resizeHandler = () ->  me.chart().lifeCycle().resize(true) # no animation\n        _element = elem\n        _elementSelection = d3.select(_element)\n        if _elementSelection.empty()\n          $log.error \"Error: Element #{_element} does not exist\"\n        else\n          new ResizeSensor(_element.parentElement, _resizeHandler)\n          _genChartFrame()\n        return me\n\n    me.addLayout = (layout) ->\n      _layouts.push(layout)\n      return me\n\n    me.height = () ->\n      return _innerHeight\n\n    me.width = () ->\n      return _innerWidth\n\n    me.margins = () ->\n      return _margin\n\n    me.getChartArea = () ->\n      return _spacedContainer.select('.chartArea')\n\n    me.getOverlay = () ->\n      return _overlay\n\n    me.getContainer = () ->\n      return _spacedContainer\n\n    # Life Cycle Functions ---------------------------------------------------------------------------------------------\n    #--- Size Container  -----------------------------------------------------------------------------------------------\n\n    me.sizeContainer = () ->\n      #collect axis and label information about layouts registered with container\n      bounds = _elementSelection.node().getBoundingClientRect()\n      if bounds.width <= 0 then return # check if bounds have a meaningful value. Width is eventually 0 when called while browser layouts page after load. Will be called when layout is done, so just ignore the first call\n      _margin = angular.copy(d3ChartMargins.default)\n      for l in _layouts\n        for k, s of l.scales().allKinds()\n          if s.showAxis()\n            axisPos = s.axisOrient()\n            _margin[axisPos] = d3ChartMargins.axis[axisPos]\n            if s.showLabel()\n              _margin[axisPos] += d3ChartMargins.label[axisPos]\n\n      _innerWidth = bounds.width - _margin.left - _margin.right\n      _innerHeight = bounds.height - _margin.top - _margin.bottom\n      _svg.select(\"#clip-#{_containerId} rect\").attr('width', _innerWidth).attr('height', _innerHeight)\n      _spacedContainer = _container.attr('transform', (d) -> \"translate(#{_margin.left}, #{_margin.top})\")\n      _spacedContainer.select('.chartArea').style('clip-path', \"url(#clip-#{_containerId})\")\n      _spacedContainer.select('.overlay').style('clip-path', \"url(#clip-#{_containerId})\")\n      _spacedContainer.select('.overlay>.background').attr('width', _innerWidth).attr('height', _innerHeight)\n      _chart.behavior().overlay(_overlay)\n      _chart.behavior().container(_spacedContainer)\n\n      return me\n\n    #--- Draw Axis -----------------------------------------------------------------------------------------------------\n\n    me.drawAxis = (notAnimated) ->\n      duration = if notAnimated then 0 else me.chart().animationDuration()\n      # set scales before drawing the axis\n      for l in _layouts\n        for k, s of l.scales().allKinds()\n          if s.isHorizontal()\n            s.range([0, _innerWidth])\n          if s.isVertical()\n            s.range([_innerHeight, 0])\n\n          if s.showAxis()\n            s.axis().scale(s.scale())\n            a = _getAxis(s.axisOrient())\n            if s.showGrid()\n              s.axis().tickSize(if s.isHorizontal() then -_innerHeight else -_innerWidth).tickPadding(6)\n            else\n              s.axis().tickSize(6)\n            s.axis().orient(s.axisOrient())\n            a.transition().duration(duration).call(s.axis())\n            a.selectAll('.tick').style('pointer-events', 'none')  # avoid fading of tooltip wne hovering over grid lines\n            if s.showLabel()\n              offs = axisConfig[s.kind()].labelOffset[s.axisOrient()]\n              lbl = _getLabel(s.axisOrient())\n              txt = lbl.selectAll('.label-text')\n              if txt.empty()\n                txt = lbl.append('text').attr('class','label-text').attr('dy', (d) -> offs)\n              txt.text(s.axisLabel()).attr('text-anchor','middle').style('font-size', axisConfig.labelFontSize)\n            else\n              _removeLabel(s.axisOrient())\n          if s.axisOrientOld() and s.axisOrientOld() isnt s.axisOrient()\n            _removeAxis(s.axisOrientOld())\n            _removeLabel(s.axisOrientOld())\n\n    #--- Brush Accelerator ---------------------------------------------------------------------------------------------\n\n    me.drawSingleAxis = (scale) ->\n      if scale.showAxis()\n        a = _spacedContainer.select(\".axis.#{scale.axis().orient()}\")\n        a.call(scale.axis())\n      return me\n\n    return me\n\n  return container","angular.module('wk.chart').factory 'layout', ($log, scale, scaleList, timing) ->\n\n  layoutCntr = 0\n\n  layout = () ->\n    _id = \"layout#{layoutCntr++}\"\n    _container = undefined\n    _data = undefined\n    _chart = undefined\n    _scaleList = scaleList()\n    _layoutLifeCycle = d3.dispatch('configure', 'draw', 'prepareData', 'brush', 'redraw', 'drawAxis', 'update', 'updateAttrs', 'brushDraw')\n\n    me = () ->\n\n    me.id = (id) ->\n      return _id\n\n    me.chart = (chart) ->\n      if arguments.length is 0 then return _chart\n      else\n        _chart = chart\n        _scaleList.parentScales(chart.scales())\n        _chart.lifeCycle().on \"configure.#{me.id()}\", () -> _layoutLifeCycle.configure.apply(me.scales()) #passthrough\n        _chart.lifeCycle().on \"drawChart.#{me.id()}\", me.draw # register for the drawing event\n        _chart.lifeCycle().on \"prepareData.#{me.id()}\", me.prepareData\n        return me\n\n    me.scales = () ->\n      return _scaleList\n\n    me.scaleProperties = () ->\n      return me.scales().getScaleProperties()\n\n    me.container = (obj) ->\n      if arguments.length is 0 then return _container\n      else\n        _container = obj\n        return me\n\n    me.behavior = () ->\n      me.chart().behavior()\n\n    me.prepareData = (data) ->\n      args = []\n      for kind in ['x','y', 'color']\n        args.push(_scaleList.getKind(kind))\n      _layoutLifeCycle.prepareData.apply(data, args)\n\n    me.lifeCycle = ()->\n      return _layoutLifeCycle\n\n\n    #--- DRYout from draw ----------------------------------------------------------------------------------------------\n\n    getDrawArea = () ->\n      container = _container.getChartArea()\n      drawArea = container.select(\".#{me.id()}\")\n      if drawArea.empty()\n        drawArea = container.append('g').attr('class', (d) -> me.id())\n      return drawArea\n\n    buildArgs = (data, notAnimated) ->\n      options = {\n        height:_container.height(),\n        width:_container.width(),\n        margins:_container.margins(),\n        duration: if notAnimated then 0 else me.chart().animationDuration()\n      }\n      args = [data, options]\n      for kind in ['x','y', 'color', 'size', 'shape']\n        args.push(_scaleList.getKind(kind))\n      return args\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    me.draw = (data, notAnimated) ->\n      _data = data\n\n      _layoutLifeCycle.draw.apply(getDrawArea(), buildArgs(data, notAnimated))\n\n      _layoutLifeCycle.on 'redraw', me.redraw\n      _layoutLifeCycle.on 'update', me.chart().lifeCycle().update\n      _layoutLifeCycle.on 'drawAxis', me.chart().lifeCycle().drawAxis\n      _layoutLifeCycle.on 'updateAttrs', me.chart().lifeCycle().updateAttrs\n\n      _layoutLifeCycle.on 'brush', (axis, notAnimated) ->\n        _container.drawSingleAxis(axis)\n        _layoutLifeCycle.brushDraw.apply(getDrawArea(), buildArgs(_data, notAnimated))\n\n    return me\n\n  return layout","angular.module('wk.chart').factory 'legend', ($log, $compile, $rootScope, $templateCache, templateDir) ->\n\n  legendCnt = 0\n\n  uniqueValues = (arr) ->\n    set = {}\n    for e in arr\n      set[e] = 0\n    return Object.keys(set)\n\n  legend = () ->\n\n    _id = \"legend-#{legendCnt++}\"\n    _position = 'top-right'\n    _scale = undefined\n    _templatePath = undefined\n    _legendScope = $rootScope.$new(true)\n    _template = undefined\n    _parsedTemplate = undefined\n    _containerDiv = undefined\n    _legendDiv = undefined\n    _title = undefined\n    _layout = undefined\n    _data = undefined\n    _options = undefined\n    _show = false\n    _showValues = false\n\n    me = {}\n\n    me.position = (pos) ->\n      if arguments.length is 0 then return _position\n      else\n        _position = pos\n        return me\n\n    me.show = (val) ->\n      if arguments.length is 0 then return _show\n      else\n        _show = val\n        return me #to enable chaining\n\n    me.showValues = (val) ->\n      if arguments.length is 0 then return _showValues\n      else\n        _showValues = val\n        return me #to enable chaining\n\n    me.div = (selection) ->\n      if arguments.length is 0 then return _legendDiv\n      else\n        _legendDiv = selection\n        return me\n\n    me.layout = (layout) ->\n      if arguments.length is 0 then return _layout\n      else\n        _layout = layout\n        return me\n\n    me.scale = (scale) ->\n      if arguments.length is 0 then return _scale\n      else\n        _scale = scale\n        return me\n\n    me.title = (title) ->\n      if arguments.length is 0 then return _title\n      else\n        _title = title\n        return me\n\n    me.template = (path) ->\n      if arguments.length is 0 then return _templatePath\n      else\n        _templatePath = path\n        _template = $templateCache.get(_templatePath)\n        _parsedTemplate = $compile(_template)(_legendScope)\n        return me\n\n    me.draw = (data, options) ->\n      _data = data\n      _options = options\n      #$log.info 'drawing Legend'\n      _containerDiv = _legendDiv or d3.select(me.scale().parent().container().element()).select('.d3-chart')\n      if me.show()\n        if _containerDiv.select('.d3ChartColorLegend').empty()\n          angular.element(_containerDiv.node()).append(_parsedTemplate)\n\n        if me.showValues()\n          layers = uniqueValues(_scale.value(data))\n        else\n          layers = _scale.layerKeys(data)\n\n        s = _scale.scale()\n        if me.layout()?.scales().layerScale()\n          s = me.layout().scales().layerScale().scale()\n        if _scale.kind() isnt 'shape'\n          _legendScope.legendRows = layers.map((d) -> {value:d, color:{'background-color':s(d)}})\n        else\n          _legendScope.legendRows = layers.map((d) -> {value:d, path:d3.svg.symbol().type(s(d)).size(80)()})\n          #$log.log _legendScope.legendRows\n        _legendScope.showLegend = true\n        _legendScope.position = {\n          position:'absolute'\n        }\n        if not _legendDiv\n          for p in _position.split('-')\n            _legendScope.position[p] = \"#{options.margins[p]}px\"\n        _legendScope.title = _title\n      else\n        _parsedTemplate.remove()\n      return me\n\n    me.register = (layout) ->\n      layout.lifeCycle().on \"draw.#{_id}\", me.draw\n      return me\n\n    me.template(templateDir + 'legend.jade')\n\n    me.redraw = () ->\n      if _data and _options\n        me.draw(_data, _options)\n      return me\n\n    return me\n\n  return legend","angular.module('wk.chart').factory 'scale', ($log, legend, formatDefaults) ->\n\n  scale = () ->\n    _id = ''\n    _scale = d3.scale.linear()\n    _scaleType = 'linear'\n    _exponent = 1\n    _isOrdinal = false\n    _domain = undefined\n    _domainCalc = undefined\n    _calculatedDomain = undefined\n    _resetOnNewData = false\n    _property = ''\n    _layerProp = ''\n    _layerExclude = []\n    _range = undefined\n    _rangePadding = 0.1\n    _rangeOuterPadding = 0\n    _inputFormatString = undefined\n    _inputFormatFn = (data) -> if isNaN(+data) or _.isDate(data) then data else +data\n\n    _showAxis = false\n    _axisOrient = undefined\n    _axisOrientOld = undefined\n    _axis = undefined\n    _ticks = undefined\n    _tickFormat = undefined\n    _showLabel = false\n    _axisLabel = undefined\n    _showGrid = false\n    _isHorizontal = false\n    _isVertical = false\n    _kind = undefined\n    _parent = undefined\n    _chart = undefined\n    _layout = undefined\n    _legend = legend()\n    _outputFormatString = undefined\n    _outputFormatFn = undefined\n\n    me = () ->\n\n    #---- utility functions ----------------------------------------------------------------------------------------\n\n    keys = (data) -> if _.isArray(data) then _.keys(data[0]) else _.keys(data)\n\n    layerTotal = (d, layerKeys) ->\n      layerKeys.reduce(\n        (prev, next) -> +prev + +me.layerValue(d,next)\n      , 0)\n\n    layerMax = (data, layerKeys) ->\n      d3.max(data, (d) -> d3.max(layerKeys, (k) -> me.layerValue(d,k)))\n\n    layerMin = (data, layerKeys) ->\n      d3.min(data, (d) -> d3.min(layerKeys, (k) -> me.layerValue(d,k)))\n\n    parsedValue = (v) ->\n      if _inputFormatFn.parse then _inputFormatFn.parse(v) else _inputFormatFn(v)\n\n    calcDomain = {\n      extent: (data) ->\n        layerKeys = me.layerKeys(data)\n        return [layerMin(data, layerKeys), layerMax(data, layerKeys)]\n      max: (data) ->\n        layerKeys = me.layerKeys(data)\n        return [0, layerMax(data, layerKeys)]\n      totalExtent: (data) ->\n        if data[0].hasOwnProperty('total')\n          return d3.extent(data.map((d) ->\n            d.total))\n        else\n          layerKeys = me.layerKeys(data)\n          return d3.extent(data.map((d) ->\n            layerTotal(d, layerKeys)))\n      total: (data) ->\n        if data[0].hasOwnProperty('total')\n          return [0, d3.max(data.map((d) ->\n            d.total))]\n        else\n          layerKeys = me.layerKeys(data)\n          return [0, d3.max(data.map((d) ->\n            layerTotal(d, layerKeys)))]\n      }\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    me.id = () ->\n      return _kind + '.' + _parent.id()\n\n    me.kind = (kind) ->\n      if arguments.length is 0 then return _kind\n      else\n        _kind = kind\n        return me\n\n    me.parent = (parent) ->\n      if arguments.length is 0 then return _parent\n      else\n        _parent = parent\n        return me\n\n    me.chart = (val) ->\n      if arguments.length is 0 then return _chart\n      else\n        _chart = val\n        return me #to enable chaining\n\n    me.layout = (val) ->\n      if arguments.length is 0 then return _layout\n      else\n        _layout = val\n        return me #to enable chaining\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    me.scale = () ->\n      return _scale\n\n    me.legend = () ->\n      return _legend\n\n    me.isOrdinal = () ->\n      _isOrdinal\n\n    me.isHorizontal = (trueFalse) ->\n      if arguments.length is 0 then return _isHorizontal\n      else\n        _isHorizontal = trueFalse\n        if trueFalse\n          _isVertical = false\n        return me\n\n    me.isVertical = (trueFalse) ->\n      if arguments.length is 0 then return _isVertical\n      else\n        _isVertical = trueFalse\n        if trueFalse\n          _isHorizontal = false\n        return me\n\n    #-- ScaleType ------------------------------------------------------------------------------------------------------\n\n    me.scaleType = (type) ->\n      if arguments.length is 0 then return _scaleType\n      else\n        if d3.scale.hasOwnProperty(type) # support the full list of d3 scale types\n          _scale = d3.scale[type]()\n          _scaleType = type\n          me.format(formatDefaults.number)\n        else if type is 'time' # time scale is in d3.time object, not in d3.scale.\n          _scale = d3.time.scale()\n          _scaleType = 'time'\n          if _inputFormatString\n            me.dataFormat(_inputFormatString)\n          me.format(formatDefaults.date)\n        else\n          $log.error 'Error: illegal scale type:', type\n\n        _isOrdinal = _scaleType in ['ordinal', 'category10', 'category20', 'category20b', 'category20c']\n        if _range\n          me.range(_range)\n\n        if _showAxis\n          _axis.scale(_scale)\n\n        if _exponent and _scaleType is 'pow'\n          _scale.exponent(_exponent)\n        return me\n\n    me.exponent = (value) ->\n      if arguments.length is 0 then return _exponent\n      else\n        _exponent = value\n        if _scaleType is 'pow'\n          _scale.exponent(_exponent)\n        return me\n\n    #--- Domain functions ----------------------------------------------------------------------------------------------\n\n    me.domain = (dom) ->\n      if arguments.length is 0 then return _domain\n      else\n        _domain = dom\n        return me\n\n    me.domainCalc = (rule) ->\n      if arguments.length is 0\n        return if _isOrdinal then undefined else _domainCalc\n      else\n        if rule in ['min', 'max', 'extent', 'total', 'totalExtent']\n          _domainCalc = rule\n        else\n          $log.error 'illegal domain calculation rule:', rule, \" expected 'min', 'max', 'extent', 'total' or 'totalExtent'\"\n        return me\n\n    me.getDomain = (data) ->\n      if arguments.length is 0 then return _scale.domain()\n      else\n        if not _domain and me.domainCalc()\n            return _calculatedDomain\n        else\n          if _domain\n            return _domain\n          else\n            return me.value(data)\n\n    me.resetOnNewData = (trueFalse) ->\n      if arguments.length is 0 then return _resetOnNewData\n      else\n        _resetOnNewData = trueFalse\n        return me\n\n    #--- Range Functions -----------------------------------------------------------------------------------------------\n\n    me.range = (range) ->\n      if arguments.length is 0 then return _scale.range()\n      else\n        _range = range\n        if _isOrdinal\n          _scale.rangeBands(range, _rangePadding, _rangeOuterPadding)\n        else\n          _scale.range(range)\n        return me\n\n    #--- property related attributes -----------------------------------------------------------------------------------\n\n    me.property = (name) ->\n      if arguments.length is 0 then return _property\n      else\n        _property = name\n        return me\n\n    me.layerProperty = (name) ->\n      if arguments.length is 0 then return _layerProp\n      else\n        _layerProp = name\n        return me\n\n    me.layerExclude = (excl) ->\n      if arguments.length is 0 then return _layerExclude\n      else\n        _layerExclude = excl\n        return me\n\n    me.layerKeys = (data) ->\n      if _property\n        if _.isArray(_property)\n          return _.intersection(_property, keys(data))# ensure only keys also in the data are returned\n        else\n          return [_property] #always return an array !!!\n      else\n        keys(data).filter((d) -> not (d in _layerExclude))\n\n    #--- Data Formatting -----------------------------------------------------------------------------------------------\n\n    me.dataFormat = (format) ->\n      if arguments.length is 0 then return _inputFormatString\n      else\n        _inputFormatString = format\n        if _scaleType is 'time'\n          _inputFormatFn = d3.time.format(format)\n        else\n          _inputFormatFn = (d) -> d\n        return me()\n\n    #--- Core data transformation interface ----------------------------------------------------------------------------\n\n    me.value = (data) ->\n      if _layerProp\n        if _.isArray(data) then data.map((d) -> parsedValue(d[_property][_layerProp])) else parsedValue(data[_property][_layerProp])\n      else\n        if _.isArray(data) then data.map((d) -> parsedValue(d[_property])) else parsedValue(data[_property])\n\n    me.layerValue = (data, layerKey) ->\n      if _layerProp\n        parsedValue(data[layerKey][_layerProp])\n      else\n        parsedValue(data[layerKey])\n\n    me.formattedValue = (data) ->\n      me.formatValue(me.value(data))\n\n    me.formatValue = (val) ->\n      if _outputFormatString and val and  (val.getUTCDate or not isNaN(val))\n        _outputFormatFn(val)\n      else\n        val\n\n    me.map = (data) ->\n      if Array.isArray(data) then data.map((d) -> _scale(me.value(data))) else _scale(me.value(data))\n\n    me.invert = (mappedValue) ->\n      # takes a mapped value (pixel position , color value, returns the corresponding value in the input domain\n      # the type of inverse is dependent on the scale type for quantitative scales.\n      # Ordinal scales ...\n\n      if _.has(me.scale(),'invert') # i.e. the d3 scale supports the inverse calculation: linear, log, pow, sqrt\n        _data = me.chart().getData()\n\n        # bisect.left never returns 0 in this specific scenario. We need to move the val by an interval to hit the middle of the range and to ensure\n        # that the first element will be captured. Also ensures better visual experience with tooltips\n\n        range = _scale.range()\n        interval = (range[1] - range[0]) / _data.length\n        val = me.scale().invert(mappedValue - interval/2)\n\n        bisect = d3.bisector(me.value).left\n        idx = bisect(_data, val)\n        idx = if idx < 0 then 0 else if idx >= _data.length then _data.length - 1 else idx\n        return idx # the inverse value does not necessarily correspond to a value in the data\n\n      if _.has(me.scale(),'invertExtent') # d3 supports this for quantize, quantile, threshold. returns the range that gets mapped to the value\n        return me.scale().invertExtent(mappedValue) #TODO How should this be mapped correctly. Use case???\n\n      # d3 does not support invert for ordinal scales, thus things become a bit more tricky.\n      # in case we are setting the domain explicitly, we know tha the range values and the domain elements are in the same order\n      # in case the domain is set 'lazy' (i.e. as values are used) we cannot map range and domain values easily. Not clear how to do this effectively\n\n      if me.resetOnNewData()\n        domain = _scale.domain()\n        range = _scale.range()\n        if _isVertical\n          interval = range[0] - range[1]\n          idx = range.length - Math.floor(mappedValue / interval) - 1\n        else\n          interval = range[1] - range[0]\n          idx = Math.floor(mappedValue / interval)\n        return idx\n\n    me.invertOrdinal = (mappedValue) ->\n      if me.isOrdinal() and me.resetOnNewData()\n        idx = me.invert(mappedValue)\n        return _scale.domain()[idx]\n\n\n    #--- Axis Attributes and functions ---------------------------------------------------------------------------------\n\n    me.showAxis = (trueFalse) ->\n      if arguments.length is 0 then return _showAxis\n      else\n        _showAxis = trueFalse\n        if trueFalse\n          _axis = d3.svg.axis()\n        else\n          _axis = undefined\n        return me\n\n    me.axisOrient = (val) ->\n      if arguments.length is 0 then return _axisOrient\n      else\n        _axisOrientOld = _axisOrient\n        _axisOrient = val\n        return me #to enable chaining\n\n    me.axisOrientOld = (val) ->  #TODO This is not the best place to keep the old axis value. Only needed by container in case the axis position changes\n      if arguments.length is 0 then return _axisOrientOld\n      else\n        _axisOrientOld = val\n        return me #to enable chaining\n\n    me.axis = () ->\n      return _axis\n\n    me.ticks = (val) ->\n      if arguments.length is 0 then return _ticks\n      else\n        _ticks = val\n        if me.axis()\n          me.axis().ticks(_ticks)\n        return me #to enable chaining\n\n    me.tickFormat = (val) ->\n      if arguments.length is 0 then return _tickFormat\n      else\n        _tickFormat = val\n        if me.axis()\n          me.axis().tickFormat(val)\n        return me #to enable chaining\n\n    me.showLabel = (val) ->\n      if arguments.length is 0 then return _showLabel\n      else\n        _showLabel = val\n        return me #to enable chaining\n\n    me.axisLabel = (text) ->\n      if arguments.length is 0\n        return if _axisLabel then _axisLabel else me.property()\n      else\n        _axisLabel = text\n        return me\n\n    me.format = (val) ->\n      if arguments.length is 0 then return _outputFormatString\n      else\n        if val.length > 0\n          _outputFormatString = val\n        else\n          _outputFormatString = if me.scaleType() is 'time' then formatDefaults.date else formatDefaults.number\n        _outputFormatFn = if me.scaleType() is 'time' then d3.time.format(_outputFormatString) else d3.format(_outputFormatString)\n        return me #to enable chaining\n\n    me.showGrid = (trueFalse) ->\n      if arguments.length is 0 then return _showGrid\n      else\n        _showGrid = trueFalse\n        return me\n\n    #-- Register for drawing lifecycle events --------------------------------------------------------------------------\n\n    me.register = () ->\n      me.chart().lifeCycle().on \"scaleDomains.#{me.id()}\", (data) ->\n        # set the domain if required\n        if me.resetOnNewData()\n          _scale.domain(me.getDomain(data))\n\n      me.chart().lifeCycle().on \"prepareData.#{me.id()}\", (data) ->\n        # compute the domain range calculation if required\n        calcRule =  me.domainCalc()\n        if me.parent().scaleProperties\n          me.layerExclude(me.parent().scaleProperties())\n        if calcRule and calcDomain[calcRule]\n          _calculatedDomain = calcDomain[calcRule](data)\n\n    me.update = (noAnimation) ->\n      me.parent().lifeCycle().update(noAnimation)\n      return me\n\n    me.updateAttrs = () ->\n      me.parent().lifeCycle().updateAttrs()\n\n    me.drawAxis = () ->\n      me.parent().lifeCycle().drawAxis()\n      return me\n\n    return me\n\n  return scale","angular.module('wk.chart').factory 'scaleList', ($log) ->\n  return scaleList = () ->\n    _list = {}\n    _kindList = {}\n    _parentList = {}\n    _owner = undefined\n    _requiredScales = []\n    _layerScale = undefined\n\n    me = () ->\n\n    me.owner = (owner) ->\n      if arguments.length is 0 then return _owner\n      else\n        _owner = owner\n        return me\n\n    me.add = (scale) ->\n      if _list[scale.id()]\n        $log.error \"scaleList.add: scale #{scale.id()} already defined in scaleList of #{_owner.id()}. Duplicate scales are not allowed\"\n      _list[scale.id()] = scale\n      _kindList[scale.kind()] = scale\n      return me\n\n    me.hasScale = (scale) ->\n      s = me.getKind(scale.kind())\n      return s.id() is scale.id()\n\n    me.getKind = (kind) ->\n      if _kindList[kind] then _kindList[kind] else if _parentList.getKind then _parentList.getKind(kind) else undefined\n\n    me.hasKind = (kind) ->\n      return !!me.getKind(kind)\n\n    me.remove = (scale) ->\n      if not _list[scale.id()]\n        $log.warn \"scaleList.delete: scale #{scale.id()} not defined in scaleList of #{_owner.id()}. Ignoring\"\n        return me\n      delete _list[scale.id()]\n      delete me[scale.id]\n      return me\n\n    me.parentScales = (scaleList) ->\n      if arguments.length is 0 then return _parentList\n      else\n        _parentList = scaleList\n        return me\n\n    me.getOwned = () ->\n      _list\n\n    me.allKinds = () ->\n      ret = {}\n      if _parentList.allKinds\n        for k, s of _parentList.allKinds()\n          ret[k] = s\n      for k,s of _kindList\n        ret[k] = s\n      return ret\n\n    me.requiredScales = (req) ->\n      if arguments.length is 0 then return _requiredScales\n      else\n        _requiredScales = req\n        for k in req\n          if not me.hasKind(k)\n            throw \"Fatal Error: scale '#{k}' required but not defined\"\n      return me\n\n    me.getScales = (kindList) ->\n      l = {}\n      for kind in kindList\n        if me.hasKind(kind)\n          l[kind] = me.getKind(kind)\n        else\n          throw \"Fatal Error: scale '#{kind}' required but not defined\"\n      return l\n\n    me.getScaleProperties = () ->\n      l = []\n      for k,s of me.allKinds()\n        prop = s.property()\n        if prop\n          if Array.isArray(prop)\n            l.concat(prop)\n          else\n            l.push(prop)\n      return l\n\n    me.layerScale = (kind) ->\n      if arguments.length is 0\n        if _layerScale\n          return me.getKind(_layerScale)\n        return undefined\n      else\n        _layerScale = kind\n        return me\n\n    return me\n","angular.module('wk.chart').directive 'color', ($log, scale, legend, scaleUtils) ->\n  scaleCnt = 0\n  return {\n    restrict: 'E'\n    require: ['color','^chart', '?^layout']\n    controller: ($element) ->\n      this.me = scale()\n      #$log.log 'creating controller scaleColor'\n\n    link: (scope, element, attrs, controllers) ->\n      me = controllers[0].me\n      chart = controllers[1].me\n      layout = controllers[2]?.me\n      l = undefined\n\n      if not (chart or layout)\n        $log.error 'scale needs to be contained in a chart or layout directive '\n        return\n\n      name = 'color'\n      me.kind(name)\n      me.parent(layout or chart)\n      me.chart(chart)\n      me.scaleType('category20')\n      element.addClass(me.id())\n\n      chart.addScale(me, layout)\n      me.register()\n\n      #$log.log \"linking scale #{name} id:\", me.id(), 'layout:', (if layout then layout.id() else '') , 'chart:', chart.id()\n\n      #---Directive Attributes handling --------------------------------------------------------------------------------\n\n      scaleUtils.observeSharedAttributes(attrs, me)\n      scaleUtils.observeLegendAttributes(attrs, me, layout)\n\n  }","angular.module('wk.chart').service 'scaleUtils', ($log) ->\n\n  parseList = (val) ->\n    if val\n      l = val.trim().replace(/^\\[|\\]$/g, '').split(',').map((d) -> d.replace(/^[\\\"|']|[\\\"|']$/g, ''))\n      l = l.map((d) -> if isNaN(d) then d else +d)\n      return if l.length is 1 then return l[0] else l\n\n  return {\n\n    observeSharedAttributes: (attrs, me) ->\n      attrs.$observe 'type', (val) ->\n        if val isnt undefined\n          if d3.scale.hasOwnProperty(val) or val is 'time'\n            me.scaleType(val)\n          else\n            if val isnt ''\n              ## no scale defined, use default\n              $log.error \"Error: illegal scale value: #{val}. Using 'linear' scale instead\"\n            me.scaleType('linear')\n          me.update()\n\n      attrs.$observe 'exponent', (val) ->\n        if me.scaleType() is 'pow' and _.isNumber(+val)\n          me.exponent(+val).update()\n\n      attrs.$observe 'property', (val) ->\n        me.property(parseList(val)).update()\n\n      attrs.$observe 'layerProperty', (val) ->\n        if val and val.length > 0\n          me.layerProperty(val).update()\n\n      attrs.$observe 'range', (val) ->\n        range = parseList(val)\n        if Array.isArray(range)\n          me.range(range)\n          me.update()\n\n      attrs.$observe 'dateFormat', (val) ->\n        if val\n          if me.scaleType() is 'time'\n            me.dataFormat(val)\n            me.update()\n\n      attrs.$observe 'domain', (val) ->\n        if val\n          $log.info 'domain', val\n          parsedList = parseList(val)\n          if Array.isArray(parsedList)\n            me.domain(parsedList)\n            me.update()\n          else\n            $log.error \"domain: must be array, or comma-separated list, got\", val\n        else\n            me.domain(undefined).update()\n\n      attrs.$observe 'domainRange', (val) ->\n        if val\n          me.domainCalc(val)\n          me.update()\n\n      attrs.$observe 'label', (val) ->\n        if val isnt undefined\n          me.axisLabel(val).updateAttrs()\n\n      attrs.$observe 'format', (val) ->\n        if val isnt undefined\n          me.format(val)\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    observeAxisAttributes: (attrs, me) ->\n\n      attrs.$observe 'tickFormat', (val) ->\n        if val isnt undefined\n          me.tickFormat(d3.format(val))\n\n      attrs.$observe 'ticks', (val) ->\n        if val isnt undefined\n          me.ticks(+val)\n          if me.axis()\n            me.updateAttrs()\n\n      attrs.$observe 'grid', (val) ->\n        if val isnt undefined\n          me.showGrid(val is '' or val is 'true').updateAttrs()\n\n      attrs.$observe 'showLabel', (val) ->\n        if val isnt undefined\n          me.showLabel(val is '' or val is 'true').update(true)\n\n    #-------------------------------------------------------------------------------------------------------------------\n\n    observeLegendAttributes: (attrs, me, layout) ->\n\n      attrs.$observe 'legend', (val) ->\n        if val isnt undefined\n          l = me.legend()\n          l.showValues(false)\n          switch val\n            when 'false'\n              l.show(false)\n            when 'top-left', 'top-right', 'bottom-left', 'bottom-right'\n              l.position(val).div(undefined).show(true)\n            when 'true', ''\n              l.position('top-right').show(true).div(undefined)\n            else\n              legendDiv = d3.select(val)\n              if legendDiv.empty()\n                $log.warn 'legend reference does not exist:', val\n                l.div(undefined).show(false)\n              else\n                l.div(legendDiv).position('top-left').show(true)\n\n          l.scale(me).layout(layout)\n          if me.parent()\n            l.register(me.parent())\n          l.redraw()\n\n      attrs.$observe 'valuesLegend', (val) ->\n        if val isnt undefined\n          l = me.legend()\n          l.showValues(true)\n          switch val\n            when 'false'\n              l.show(false)\n            when 'top-left', 'top-right', 'bottom-left', 'bottom-right'\n              l.position(val).div(undefined).show(true)\n            when 'true', ''\n              l.position('top-right').show(true).div(undefined)\n            else\n              legendDiv = d3.select(val)\n              if legendDiv.empty()\n                $log.warn 'legend reference does not exist:', val\n                l.div(undefined).show(false)\n              else\n                l.div(legendDiv).position('top-left').show(true)\n\n          l.scale(me).layout(layout)\n          if me.parent()\n            l.register(me.parent())\n          l.redraw()\n\n      attrs.$observe 'legendTitle', (val) ->\n        if val isnt undefined\n          me.legend().title(val).redraw()\n\n  }\n\n","angular.module('wk.chart').directive 'shape', ($log, scale, d3Shapes, scaleUtils) ->\n  scaleCnt = 0\n  return {\n    restrict: 'E'\n    require: ['shape','^chart', '?^layout']\n    controller: ($element) ->\n      this.me = scale()\n      #$log.log 'creating controller scaleSize'\n\n    link: (scope, element, attrs, controllers) ->\n      me = controllers[0].me\n      chart = controllers[1].me\n      layout = controllers[2]?.me\n\n      if not (chart or layout)\n        $log.error 'scale needs to be contained in a chart or layout directive '\n        return\n\n      name = 'shape'\n      me.kind(name)\n      me.parent(layout or chart)\n      me.chart(chart)\n      me.scaleType('ordinal')\n      me.scale().range(d3Shapes)\n      element.addClass(me.id())\n\n      chart.addScale(me, layout)\n      me.register()\n\n      #$log.log \"linking scale #{name} id:\", me.id(), 'layout:', (if layout then layout.id() else '') , 'chart:', chart.id()\n\n      #---Directive Attributes handling --------------------------------------------------------------------------------\n\n      scaleUtils.observeSharedAttributes(attrs, me)\n      scaleUtils.observeLegendAttributes(attrs, me, layout)\n  }","angular.module('wk.chart').directive 'size', ($log, scale, scaleUtils) ->\n  scaleCnt = 0\n  return {\n    restrict: 'E'\n    require: ['size','^chart', '?^layout']\n    controller: ($element) ->\n      this.me = scale()\n      #$log.log 'creating controller scaleSize'\n\n    link: (scope, element, attrs, controllers) ->\n      me = controllers[0].me\n      chart = controllers[1].me\n      layout = controllers[2]?.me\n\n      if not (chart or layout)\n        $log.error 'scale needs to be contained in a chart or layout directive '\n        return\n\n      name = 'size'\n      me.kind(name)\n      me.parent(layout or chart)\n      me.chart(chart)\n      me.scaleType('linear')\n      me.resetOnNewData(true)\n      element.addClass(me.id())\n\n      chart.addScale(me, layout)\n      me.register()\n\n      #$log.log \"linking scale #{name} id:\", me.id(), 'layout:', (if layout then layout.id() else '') , 'chart:', chart.id()\n\n      #---Directive Attributes handling --------------------------------------------------------------------------------\n\n      scaleUtils.observeSharedAttributes(attrs, me)\n      scaleUtils.observeLegendAttributes(attrs, me, layout)\n  }","angular.module('wk.chart').directive 'x', ($log, scale, scaleUtils) ->\n  scaleCnt = 0\n  return {\n    restrict: 'E'\n    require: ['x','^chart', '?^layout']\n    controller: ($element) ->\n      #$log.log 'creating controller scaleX'\n      this.me = scale() # for Angular 1.3\n\n    link: (scope, element, attrs, controllers) ->\n      me = controllers[0].me\n      chart = controllers[1].me\n      layout = controllers[2]?.me\n\n      if not (chart or layout)\n        $log.error 'scale needs to be contained in a chart or layout directive '\n        return\n\n      name = 'x'\n      me.kind(name)\n      me.parent(layout or chart)\n      me.chart(chart)\n      me.scaleType('linear')\n      me.resetOnNewData(true)\n      me.isHorizontal(true)\n      me.register()\n      element.addClass(me.id())\n\n      chart.addScale(me, layout)\n\n      #$log.log \"linking scale #{name} id:\", me.id(), 'layout:', (if layout then layout.id() else '') , 'chart:', chart.id()\n\n      #---Directive Attributes handling --------------------------------------------------------------------------------\n\n      scaleUtils.observeSharedAttributes(attrs, me)\n\n      attrs.$observe 'axis', (val) ->\n        if val isnt undefined\n          if val isnt 'false'\n            if val in ['top', 'bottom']\n              me.axisOrient(val).showAxis(true)\n            else\n              me.axisOrient('bottom').showAxis(true)\n          else\n            me.showAxis(false).axisOrient(undefined)\n          me.update(true)\n\n      scaleUtils.observeAxisAttributes(attrs, me)\n      scaleUtils.observeLegendAttributes(attrs, me, layout)\n  }","angular.module('wk.chart').directive 'y', ($log, scale, legend, scaleUtils) ->\n  scaleCnt = 0\n  return {\n    restrict: 'E'\n    require: ['y','^chart', '?^layout']\n    controller: ($element) ->\n      this.me = scale()\n      #$log.log 'creating controller scaleY'\n\n    link: (scope, element, attrs, controllers) ->\n      me = controllers[0].me\n      chart = controllers[1].me\n      layout = controllers[2]?.me\n\n      if not (chart or layout)\n        $log.error 'scale needs to be contained in a chart or layout directive '\n        return\n\n      name = 'y'\n      me.kind(name)\n      me.parent(layout or chart)\n      me.chart(chart)\n      me.scaleType('linear')\n      me.isVertical(true)\n      me.resetOnNewData(true)\n      element.addClass(me.id())\n\n      chart.addScale(me, layout)\n      me.register()\n      #$log.log \"linking scale #{name} id:\", me.id(), 'layout:', (if layout then layout.id() else '') , 'chart:', chart.id()\n\n      #---Directive Attributes handling --------------------------------------------------------------------------------\n\n      scaleUtils.observeSharedAttributes(attrs, me)\n\n      attrs.$observe 'axis', (val) ->\n        if val isnt undefined\n          if val isnt 'false'\n            if val in ['left', 'right']\n              me.axisOrient(val).showAxis(true)\n            else\n              me.axisOrient('left').showAxis(true)\n          else\n            me.showAxis(false).axisOrient(undefined)\n          me.update(true)\n\n      scaleUtils.observeAxisAttributes(attrs, me)\n      scaleUtils.observeLegendAttributes(attrs, me, layout)\n  }","angular.module('wk.chart').service 'selectionSharing', ($log) ->\n  selection = {}\n  callbacks = {}\n\n  this.createGroup = (group) ->\n\n\n  this.setSelection = (selection, group) ->\n    if group\n      selection[group] = selection\n      if callbacks[group]\n        for cb in callbacks[group]\n          cb(selection)\n\n  this.getSelection = (group) ->\n    grp = group or 'default'\n    return selection[grp]\n\n  this.register = (group, callback) ->\n    if group\n      if not callbacks[group]\n        callbacks[group] = []\n      #ensure that callbacks are not registered more than once\n      if not _.contains(callbacks[group], callback)\n        callbacks[group].push(callback)\n\n  this.unregister = (group, callback) ->\n    if callbacks[group]\n      idx = callbacks[group].indexOf callback\n      if idx >= 0\n        callbacks[group].splice(idx, 1)\n\n  return this\n\n","angular.module('wk.chart').service 'timing', ($log) ->\n\n  timers = {}\n  elapsedStart = 0\n  elapsed = 0\n\n  this.init = () ->\n    elapsedStart = Date.now()\n\n  this.start = (topic) ->\n    top = timers[topic]\n    if not top\n      top = timers[topic] = {name:topic, start:0, total:0, callCnt:0, active: false}\n    top.start = Date.now()\n    top.active = true\n\n  this.stop = (topic) ->\n    if top = timers[topic]\n      top.active = false\n      top.total += Date.now() - top.start\n      top.callCnt += 1\n    elapsed = Date.now() - elapsedStart\n\n  this.report = () ->\n    for topic, val of timers\n      val.avg = val.total / val.callCnt\n    $log.info timers\n    $log.info 'Elapsed Time (ms)', elapsed\n    return timers\n\n  this.clear = () ->\n    timers = {}\n\n  return this","angular.module('wk.chart')\n.run(['$templateCache', function($templateCache) {\n  return $templateCache.put('app/templates/legend.jade', [\n'',\n'<div ng-style=\"position\" ng-show=\"showLegend\" class=\"d3ChartColorLegend\">',\n'  <div ng-show=\"title\" class=\"legend-title\">{{title}}</div>',\n'  <ul class=\"list-unstyled\">',\n'    <li ng-repeat=\"legendRow in legendRows track by legendRow.value\" class=\"d3ChartColorLegendItem\"><span ng-if=\"legendRow.color\" ng-style=\"legendRow.color\">&nbsp;&nbsp;&nbsp;</span>',\n'      <svg-icon ng-if=\"legendRow.path\" path=\"legendRow.path\" width=\"20\"></svg-icon>&nbsp;{{legendRow.value}}',\n'    </li>',\n'  </ul>',\n'</div>',''].join(\"\\n\"));\n}])\n.run(['$templateCache', function($templateCache) {\n  return $templateCache.put('app/templates/toolTip.jade', [\n'',\n'<div ng-show=\"ttShow\" ng-style=\"position\" class=\"d3ChartsToolTip\">',\n'  <table class=\"table table-condensed table-bordered\">',\n'    <thead ng-show=\"headerValue\">',\n'      <tr>',\n'        <th colspan=\"2\">{{headerName}}</th>',\n'        <th>{{headerValue}}</th>',\n'      </tr>',\n'    </thead>',\n'    <tbody>',\n'      <tr ng-repeat=\"ttRow in layers\">',\n'        <td ng-style=\"ttRow.color\" ng-class=\"ttRow.class\">',\n'          <svg-icon ng-if=\"ttRow.path\" path=\"ttRow.path\" width=\"15\"></svg-icon>',\n'        </td>',\n'        <td>{{ttRow.name}}</td>',\n'        <td>{{ttRow.value}}</td>',\n'      </tr>',\n'    </tbody>',\n'  </table>',\n'</div>',''].join(\"\\n\"));\n}]);\n","/**\n * Copyright Marc J. Schmidt. See the LICENSE file at the top-level\n * directory of this distribution and at\n * https://github.com/marcj/css-element-queries/blob/master/LICENSE.\n */\n;\n(function() {\n    /**\n     * Class for dimension change detection.\n     *\n     * @param {Element|Element[]|Elements|jQuery} element\n     * @param {Function} callback\n     *\n     * @constructor\n     */\n    this.ResizeSensor = function(element, callback) {\n        /**\n         *\n         * @constructor\n         */\n        function EventQueue() {\n            this.q = [];\n            this.add = function(ev) {\n                this.q.push(ev);\n            };\n            var i, j;\n            this.call = function() {\n                for (i = 0, j = this.q.length; i < j; i++) {\n                    this.q[i].call();\n                }\n            };\n        }\n        /**\n         * @param {HTMLElement} element\n         * @param {String} prop\n         * @returns {String|Number}\n         */\n        function getComputedStyle(element, prop) {\n            if (element.currentStyle) {\n                return element.currentStyle[prop];\n            } else if (window.getComputedStyle) {\n                return window.getComputedStyle(element, null).getPropertyValue(prop);\n            } else {\n                return element.style[prop];\n            }\n        }\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {Function} resized\n         */\n        function attachResizeEvent(element, resized) {\n            if (!element.resizedAttached) {\n                element.resizedAttached = new EventQueue();\n                element.resizedAttached.add(resized);\n            } else if (element.resizedAttached) {\n                element.resizedAttached.add(resized);\n                return;\n            }\n            element.resizeSensor = document.createElement('div');\n            element.resizeSensor.className = 'resize-sensor';\n            var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;';\n            var styleChild = 'position: absolute; left: 0; top: 0;';\n            element.resizeSensor.style.cssText = style;\n            element.resizeSensor.innerHTML =\n                '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' +\n                '<div style=\"' + styleChild + '\"></div>' +\n                '</div>' +\n                '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' +\n                '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' +\n                '</div>';\n            element.appendChild(element.resizeSensor);\n            if (!{fixed: 1, absolute: 1}[getComputedStyle(element, 'position')]) {\n                element.style.position = 'relative';\n            }\n            var expand = element.resizeSensor.childNodes[0];\n            var expandChild = expand.childNodes[0];\n            var shrink = element.resizeSensor.childNodes[1];\n            var shrinkChild = shrink.childNodes[0];\n            var lastWidth, lastHeight;\n            var reset = function() {\n                expandChild.style.width = expand.offsetWidth + 10 + 'px';\n                expandChild.style.height = expand.offsetHeight + 10 + 'px';\n                expand.scrollLeft = expand.scrollWidth;\n                expand.scrollTop = expand.scrollHeight;\n                shrink.scrollLeft = shrink.scrollWidth;\n                shrink.scrollTop = shrink.scrollHeight;\n                lastWidth = element.offsetWidth;\n                lastHeight = element.offsetHeight;\n            };\n            reset();\n            var changed = function() {\n                element.resizedAttached.call();\n            };\n            var addEvent = function(el, name, cb) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + name, cb);\n                } else {\n                    el.addEventListener(name, cb);\n                }\n            };\n            addEvent(expand, 'scroll', function() {\n                if (element.offsetWidth > lastWidth || element.offsetHeight > lastHeight) {\n                    changed();\n                }\n                reset();\n            });\n            addEvent(shrink, 'scroll',function() {\n                if (element.offsetWidth < lastWidth || element.offsetHeight < lastHeight) {\n                    changed();\n                }\n                reset();\n            });\n        }\n        if (\"[object Array]\" === Object.prototype.toString.call(element)\n            || ('undefined' !== typeof jQuery && element instanceof jQuery) //jquery\n            || ('undefined' !== typeof Elements && element instanceof Elements) //mootools\n            ) {\n            var i = 0, j = element.length;\n            for (; i < j; i++) {\n                attachResizeEvent(element[i], callback);\n            }\n        } else {\n            attachResizeEvent(element, callback);\n        }\n    }\n})();","// Copyright (c) 2013, Jason Davies, http://www.jasondavies.com\n// See LICENSE.txt for details.\n(function() {\n\nvar radians = Math.PI / 180,\n    degrees = 180 / Math.PI;\n\n// TODO make incremental rotate optional\n\nd3.geo.zoom = function() {\n  var projection,\n      zoomPoint,\n      event = d3.dispatch(\"zoomstart\", \"zoom\", \"zoomend\"),\n      zoom = d3.behavior.zoom()\n        .on(\"zoomstart\", function() {\n          var mouse0 = d3.mouse(this),\n              rotate = quaternionFromEuler(projection.rotate()),\n              point = position(projection, mouse0);\n          if (point) zoomPoint = point;\n\n          zoomOn.call(zoom, \"zoom\", function() {\n                projection.scale(d3.event.scale);\n                var mouse1 = d3.mouse(this),\n                    between = rotateBetween(zoomPoint, position(projection, mouse1));\n                projection.rotate(eulerFromQuaternion(rotate = between\n                    ? multiply(rotate, between)\n                    : multiply(bank(projection, mouse0, mouse1), rotate)));\n                mouse0 = mouse1;\n                event.zoom.apply(this, arguments);\n              });\n          event.zoomstart.apply(this, arguments);\n        })\n        .on(\"zoomend\", function() {\n          zoomOn.call(zoom, \"zoom\", null);\n          event.zoomend.apply(this, arguments);\n        }),\n      zoomOn = zoom.on;\n\n  zoom.projection = function(_) {\n    return arguments.length ? zoom.scale((projection = _).scale()) : projection;\n  };\n\n  return d3.rebind(zoom, event, \"on\");\n};\n\nfunction bank(projection, p0, p1) {\n  var t = projection.translate(),\n      angle = Math.atan2(p0[1] - t[1], p0[0] - t[0]) - Math.atan2(p1[1] - t[1], p1[0] - t[0]);\n  return [Math.cos(angle / 2), 0, 0, Math.sin(angle / 2)];\n}\n\nfunction position(projection, point) {\n  var t = projection.translate(),\n      spherical = projection.invert(point);\n  return spherical && isFinite(spherical[0]) && isFinite(spherical[1]) && cartesian(spherical);\n}\n\nfunction quaternionFromEuler(euler) {\n  var  = .5 * euler[0] * radians,\n       = .5 * euler[1] * radians,\n       = .5 * euler[2] * radians,\n      sin = Math.sin(), cos = Math.cos(),\n      sin = Math.sin(), cos = Math.cos(),\n      sin = Math.sin(), cos = Math.cos();\n  return [\n    cos * cos * cos + sin * sin * sin,\n    sin * cos * cos - cos * sin * sin,\n    cos * sin * cos + sin * cos * sin,\n    cos * cos * sin - sin * sin * cos\n  ];\n}\n\nfunction multiply(a, b) {\n  var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n      b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  return [\n    a0 * b0 - a1 * b1 - a2 * b2 - a3 * b3,\n    a0 * b1 + a1 * b0 + a2 * b3 - a3 * b2,\n    a0 * b2 - a1 * b3 + a2 * b0 + a3 * b1,\n    a0 * b3 + a1 * b2 - a2 * b1 + a3 * b0\n  ];\n}\n\nfunction rotateBetween(a, b) {\n  if (!a || !b) return;\n  var axis = cross(a, b),\n      norm = Math.sqrt(dot(axis, axis)),\n      half = .5 * Math.acos(Math.max(-1, Math.min(1, dot(a, b)))),\n      k = Math.sin(half) / norm;\n  return norm && [Math.cos(half), axis[2] * k, -axis[1] * k, axis[0] * k];\n}\n\nfunction eulerFromQuaternion(q) {\n  return [\n    Math.atan2(2 * (q[0] * q[1] + q[2] * q[3]), 1 - 2 * (q[1] * q[1] + q[2] * q[2])) * degrees,\n    Math.asin(Math.max(-1, Math.min(1, 2 * (q[0] * q[2] - q[3] * q[1])))) * degrees,\n    Math.atan2(2 * (q[0] * q[3] + q[1] * q[2]), 1 - 2 * (q[2] * q[2] + q[3] * q[3])) * degrees\n  ];\n}\n\nfunction cartesian(spherical) {\n  var  = spherical[0] * radians,\n       = spherical[1] * radians,\n      cos = Math.cos();\n  return [\n    cos * Math.cos(),\n    cos * Math.sin(),\n    Math.sin()\n  ];\n}\n\nfunction dot(a, b) {\n  for (var i = 0, n = a.length, s = 0; i < n; ++i) s += a[i] * b[i];\n  return s;\n}\n\nfunction cross(a, b) {\n  return [\n    a[1] * b[2] - a[2] * b[1],\n    a[2] * b[0] - a[0] * b[2],\n    a[0] * b[1] - a[1] * b[0]\n  ];\n}\n\n})();\n","function glow(url) {\n    var stdDeviation = 2,\n        rgb = \"#000\",\n        colorMatrix = \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\";\n\n    if (!arguments.length) {\n        url = \"glow\";\n    }\n\n    function my() {\n\n        var defs = this.append(\"defs\");\n\n        var filter = defs.append(\"filter\")\n            .attr(\"id\", url)\n            .attr(\"x\", \"-20%\")\n            .attr(\"y\", \"-20%\")\n            .attr(\"width\", \"140%\")\n            .attr(\"height\", \"140%\")\n            .call(function() {\n                this.append(\"feColorMatrix\")\n                    .attr(\"type\", \"matrix\")\n                    .attr(\"values\", colorMatrix);\n                this.append(\"feGaussianBlur\")\n                    .attr(\"stdDeviation\", stdDeviation)\n                    .attr(\"result\", \"coloredBlur\");\n            });\n\n        filter.append(\"feMerge\")\n            .call(function() {\n                this.append(\"feMergeNode\")\n                    .attr(\"in\", \"coloredBlur\");\n                this.append(\"feMergeNode\")\n                    .attr(\"in\", \"SourceGraphic\");\n            });\n    }\n\n    my.rgb = function(value) {\n        if (!arguments.length) return color;\n        rgb = value;\n        color = d3.rgb(value);\n        var matrix = \"0 0 0 red 0 0 0 0 0 green 0 0 0 0 blue 0 0 0 1 0\";\n        colorMatrix = matrix\n            .replace(\"red\", color.r)\n            .replace(\"green\", color.g)\n            .replace(\"blue\", color.b);\n\n        return my;\n    };\n\n    my.stdDeviation = function(value) {\n        if (!arguments.length) return stdDeviation;\n        stdDeviation = value;\n        return my;\n    };\n\n    return my;\n}\n","angular.module('wk.chart').factory 'layeredData', ($log) ->\n\n  layered = () ->\n    _data = []\n    _layerKeys = []\n    _x = undefined\n    _calcTotal = false\n    _min = Infinity\n    _max = -Infinity\n    _tMin = Infinity\n    _tMax = -Infinity\n\n    me = () ->\n\n    me.data = (dat) ->\n      if arguments.length Is 0\n        return _data\n      else\n        _data = dat\n        return me\n\n    me.layerKeys = (keys) ->\n      if arguments.length is 0\n        return _layerKeys\n      else\n        _layerKeys = keys\n        return me\n\n    me.x = (name) ->\n      if arguments.length is 0\n        return _x\n      else\n        _x = name\n        return me\n\n    me.calcTotal = (t_f) ->\n      if arguments.length is 0\n        return _calcTotal\n      else\n        _calcTotal = t_f\n        return me\n\n    me.min = () ->\n      _min\n\n    me.max = () ->\n      _max\n\n    me.minTotal = () ->\n      _tMin\n\n    me.maxTotal = () ->\n      _tMax\n\n    me.extent = () ->\n      [me.min(), me.max()]\n\n    me.totalExtent = () ->\n      [me.minTotal(), me.maxTotal()]\n\n    me.columns = (data) ->\n      if arguments.length is 1\n        #_layerKeys.map((k) -> {key:k, values:data.map((d) -> {x: d[_x], value: d[k], data: d} )})\n        res = []\n        _min = Infinity\n        _max = -Infinity\n        _tMin = Infinity\n        _tMax = -Infinity\n\n        for k, i in _layerKeys\n          res[i] = {key:k, value:[], min:Infinity, max:-Infinity}\n        for d, i in data\n          t = 0\n          xv = if typeof _x is 'string' then d[_x] else _x(d)\n\n          for l in res\n            v = +d[l.key]\n            l.value.push {x:xv, value: v, key:l.key}\n            if l.max < v then l.max = v\n            if l.min > v then l.min = v\n            if _max < v then _max = v\n            if _min > v then _min = v\n            if _calcTotal then t += +v\n          if _calcTotal\n            #total.value.push {x:d[_x], value:t, key:total.key}\n            if _tMax < t then _tMax = t\n            if _tMin > t then _tMin = t\n        return {min:_min, max:_max, totalMin:_tMin,totalMax:_tMax, data:res}\n      return me\n\n\n\n    me.rows = (data) ->\n      if arguments.length is 1\n        return data.map((d) -> {x: d[_x], layers: layerKeys.map((k) -> {key:k, value: d[k], x:d[_x]})})\n      return me\n\n\n    return me","angular.module('wk.chart').directive 'svgIcon', ($log) ->\n  ## insert svg path into interpolated HTML. Required prevent Angular from throwing error (Fix 22)\n  return {\n    restrict: 'E'\n    template: '<svg ng-style=\"style\"><path></path></svg>'\n    scope:\n      path: \"=\"\n      width: \"@\"\n    link: (scope, elem, attrs ) ->\n      scope.style = {  # fix IE problem with interpolating style values\n        height: '20px'\n        width: scope.width + 'px'\n        'vertical-align': 'middle'\n      }\n      scope.$watch 'path', (val) ->\n        if val\n          d3.select(elem[0]).select('path').attr('d', val).attr('transform', \"translate(8,8)\")\n  }","angular.module('wk.chart').service 'utils', ($log) ->\n\n  #---------------------------------------------------------------------------------------------------------------------\n\n  @diff = (a,b,direction) ->\n    notInB = (v) ->\n      b.indexOf(v) < 0\n\n    res = {}\n    i = 0\n    while i < a.length\n      if notInB(a[i])\n        res[a[i]] = undefined\n        j = i + direction\n        while 0 <= j < a.length\n          if notInB(a[j])\n            j += direction\n          else\n            res[a[i]] =  a[j]\n            break\n      i++\n    return res\n\n  #---------------------------------------------------------------------------------------------------------------------\n\n  id = 0\n  @getId = () ->\n    return 'Chart' + id++\n\n  #---------------------------------------------------------------------------------------------------------------------\n\n  @parseList = (val) ->\n    if val\n      l = val.trim().replace(/^\\[|\\]$/g, '').split(',').map((d) -> d.replace(/^[\\\"|']|[\\\"|']$/g, ''))\n      return if l.length is 1 then return l[0] else l\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------------------\n\n  return @\n"]}